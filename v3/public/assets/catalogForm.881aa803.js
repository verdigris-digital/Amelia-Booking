var Jt=Object.defineProperty;var Bt=Object.getOwnPropertySymbols;var Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var Ft=(f,y,d)=>y in f?Jt(f,y,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[y]=d,He=(f,y)=>{for(var d in y||(y={}))Gt.call(y,d)&&Ft(f,d,y[d]);if(Bt)for(var d of Bt(y))Qt.call(y,d)&&Ft(f,d,y[d]);return f};import{o as a,c as i,n as z,d as wt,a as W,w as A,b as Se,t as o,u as e,_ as Le,i as x,e as $,f as ee,g as t,F as te,r as me,h as _,j as ve,k,l as Ce,m as Ee,p as nt,q as ot,s as We,v as Ue,x as Ke,I as Xt,y as at,z as St,A as ye,B as pt,C as de,D as Yt,E as bt,T as Me,G as ct,H as it,J as kt,K as rt,L as _t,M as Y,N as Xe,O as ut,P as we,Q as Zt,R as Kt,S as ea,U as ta,V as aa,W as ia,X as sa,Y as la,Z as na,$ as oa,a0 as ca,a1 as ra,a2 as ua,a3 as da,a4 as ma,a5 as pa,a6 as _a,a7 as va,a8 as fa,a9 as ga,aa as At,ab as ya,ac as ha,ad as dt,ae as mt,af as ba,ag as ka,ah as $a}from"./stepForm.7f12000f.js";const wa={name:"IconComponent"},Ct=Object.assign(wa,{props:{icon:{type:String,required:!0}},setup(f){return(y,d)=>(a(),i("span",{class:z(`am-icon-${f.icon}`)},null,2))}});const Ca={class:"am-cat__back-btn"},Sa={name:"MainHeader"},xt=Object.assign(Sa,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"}},emits:["click"],setup(f,{emit:y}){const d=f;let L=wt({components:{IconComponent:Ct},template:'<IconComponent icon="arrow-left"></IconComponent>'});function v(){y("click")}return(l,s)=>(a(),i("div",Ca,[W(Le,{prefix:e(L),category:"secondary",type:f.btnType,size:f.btnSize,onClick:v},{default:A(()=>[Se(o(e(d).btnString),1)]),_:1},8,["prefix","type","size"])]))}});const xa={class:"am-cat__sidemenu-item__wrapper"},Pa=["onClick"],Da={key:0,class:"am-cat__sidemenu-footer"},Ea={class:"am-cat__sidemenu-footer__text"},La=["href"],Ia={name:"SideMenu"},Ta=Object.assign(Ia,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(f,{emit:y}){const d=f;function L(s){y("click",s)}let v=x("amColors"),l=$(()=>({"--am-c-csm-text-op10":ee(v.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(v.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(v.value.colorSbText,.6),"--am-c-csm-text-op80":ee(v.value.colorSbText,.8)}));return(s,c)=>(a(),i("div",{class:"am-cat__sidemenu",style:ve(e(l))},[t("div",xa,[(a(!0),i(te,null,me(f.menuItems,(h,m)=>(a(),i("div",{key:m,class:z(["am-cat__sidemenu-item",{"am-active":e(d).initSelection===h[e(d).identifier]}]),onClick:()=>L(h)},o(h[e(d).nameIdentifier]),11,Pa))),128))]),e(d).companyEmail?(a(),i("div",Da,[t("span",Ea,o(e(d).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(d).companyEmail}`},o(e(d).companyEmail),9,La)])):_("",!0)],4))}});const Ba={name:"MainContent"},Pt=Object.assign(Ba,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(f,{expose:y}){let d=k(null),L=k(0),v=k(null),l=k(0),s=k(null),c=k(0),h=k(null),m=k(null),N=k(0);window.addEventListener("resize",he);function he(){Ce(()=>{d.value&&(L.value=d.value.offsetWidth),v.value&&(l.value=v.value.offsetWidth),s.value&&(c.value=s.value.offsetWidth)})}Ee(()=>{Ce(()=>{if(s.value&&h.value){let n=s.value.offsetHeight-h.value.offsetHeight-2;N.value=n<=656?656:n}he()})}),y({catHeaderWidth:L,catFormWidth:c,catContainerWidth:l});let I=x("amColors"),B=$(()=>({"--am-h-cat-content":`${N.value}px`,"--am-c-scroll-op30":ee(I.value.colorPrimary,.3),"--am-c-scroll-op10":ee(I.value.colorPrimary,.1)}));return(n,F)=>(a(),i("div",{class:z(["am-cat__wrapper",f.wrapperClass])},[t("div",{ref_key:"catHeader",ref:d,class:"am-cat__header"},[nt(n.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:v,class:"am-cat__main"},[nt(n.$slots,"side"),t("div",{ref_key:"catForm",ref:s,class:z(["am-cat__form",f.formClass]),style:ve(e(B))},[t("div",{ref_key:"catHeading",ref:h,class:z(["am-cat__heading",f.headingClass])},[nt(n.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:m,class:z(["am-cat__content",f.contentClass])},[nt(n.$slots,"content")],2)],6)],512)],2))}}),Fa={name:"AmImagePlaceholder"},Ye=Object.assign(Fa,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(f){const y=f;function d(v){return v.pictureFullPath?{backgroundImage:`url(${v.pictureFullPath})`}:{backgroundColor:`${ot.value[Math.floor(Math.random()*ot.value.length)]}`}}function L(v){return v.pictureFullPath?"":("firstName"in v?`${v.firstName} ${v.lastName}`:v.name).split(" ").map(s=>s.charAt(0)).join("").toUpperCase().substring(0,y.trimString).replace(/[^\w\s]/g,"")}return(v,l)=>(a(),i("span",{class:z(e(y).itemClass),style:ve(He({},d(e(y).itemData)))},o(L(e(y).itemData)),7))}}),$t=We(window.wpAmeliaSettings),zt=We(window.wpAmeliaLabels),ze=We(window.ameliaShortcodeData?window.ameliaShortcodeData[0]:null);function st(f,y,d=null,L=null){let v=[];return f&&f.serviceList.forEach(l=>{d?d in y.entitiesRelations&&l.id in y.entitiesRelations[d]&&(L?y.entitiesRelations[d][l.id].find(s=>s===L):!0)&&l.status==="visible"&&l.show&&!v.filter(s=>s===l.id).length&&v.push(l.id):y.employees.forEach(s=>{s.id in y.entitiesRelations&&l.id in y.entitiesRelations[s.id]&&(L?y.entitiesRelations[s.id][l.id].find(c=>c===L):!0)&&l.status==="visible"&&l.show&&!v.filter(c=>c===l.id).length&&v.push(l.id)})}),v}function Rt(f,y){let d=[],L=[];f.employees.forEach(s=>{if(s.id in f.entitiesRelations&&y in f.entitiesRelations[s.id]){let c=s.serviceList.find(h=>h.id===y);d.push(c.maxCapacity),L.push(c.minCapacity)}});let v=L.reduce((s,c)=>c<s?c:s,L[0]),l=d.reduce((s,c)=>c>s?c:s,d[0]);return v!==l?`${v}/${l}`:v}function Mt(f){let y=Math.floor(f/3600),d=f/60%60;return(y?y+zt.h+" ":"")+" "+(d?d+zt.min:"")}function Ze(f,y){let d=[];f.employees.forEach(l=>{if(l.id in f.entitiesRelations&&y in f.entitiesRelations[l.id]){let s=l.serviceList.find(c=>c.id===y);d.push(s.price)}});let L=d.reduce((l,s)=>s<l?s:l,d[0]),v=d.reduce((l,s)=>s>l?s:l,d[0]);return L!==v?{price:`${Ue(L,!$t.payments.hideCurrencySymbolFrontend)} - ${Ue(v,!$t.payments.hideCurrencySymbolFrontend)}`,min:L,max:v}:{price:Ue(L,$t.payments.hideCurrencySymbolFrontend),min:L,max:v}}function Pe(f,y){let d=[];return f.employees.forEach(L=>{L.id in f.entitiesRelations&&y in f.entitiesRelations[L.id]&&f.entitiesRelations[L.id][y].length&&f.locations.forEach(v=>{f.entitiesRelations[L.id][y].some(l=>l===v.id)&&!d.find(l=>l===v.id)&&d.push(v)})}),d}function Dt(f,y){let d=[],L=Object.keys(f.entitiesRelations);return y.bookable.forEach(v=>{let l=[];L.forEach(s=>{f.entitiesRelations[s][v.service.id]&&!l.find(c=>c?c.id===parseInt(s):!0)&&l.push(f.employees.find(c=>c.id===parseInt(s)))}),l.length||d.push(!1)}),d.filter(v=>v===!1).length}function Et(f,y){let d=[],L=Object.keys(f.entitiesRelations),v=k(ze&&ze.employee?f.unfilteredEmployees.filter(l=>l.id===parseInt(ze.employee)):f.unfilteredEmployees);return y.bookable.forEach(l=>{let s=[];l.providers.length?l.providers.forEach(c=>{l.locations.length?l.locations.forEach(h=>{v.value.find(m=>m.id===c.id)&&f.entitiesRelations[c.id][l.service.id]&&f.entitiesRelations[c.id][l.service.id].indexOf(h.id)!==-1&&!s.find(m=>m.id===c.id)&&s.push(v.value.find(m=>m.id===c.id))}):v.value.find(h=>h.id===c.id)&&!s.find(h=>h.id===c.id)&&s.push(v.value.find(h=>h.id===c.id))}):L.forEach(c=>{l.locations.length?l.locations.forEach(h=>{f.entitiesRelations[c][l.service.id]&&f.entitiesRelations[c][l.service.id].indexOf(h.id)!==-1&&v.value.find(m=>m.id===parseInt(c))&&!s.find(m=>m.id===parseInt(c))&&s.push(v.value.find(m=>m.id===parseInt(c)))}):f.entitiesRelations[c][l.service.id]&&v.value.find(h=>h.id===parseInt(c))&&!s.find(h=>h.id===parseInt(c))&&s.push(v.value.find(h=>h.id===parseInt(c)))}),d.push(!!s.length)}),!d.filter(l=>l===!1).length}function Ot(f,y){let d=[],L=Object.keys(f.entitiesRelations),v=k(ze&&ze.employee?f.unfilteredEmployees.filter(l=>l.id===parseInt(ze.employee)):f.unfilteredEmployees);return y.bookable.forEach(l=>{l.providers.length?l.providers.forEach(s=>{l.locations.length?l.locations.forEach(c=>{v.value.find(h=>h.id===s.id)&&f.entitiesRelations[s.id][l.service.id].indexOf(c.id)!==-1&&!d.find(h=>h.id===s.id)&&d.push(v.value.find(h=>h.id===s.id))}):v.value.find(c=>c.id===s.id)&&!d.find(c=>c.id===s.id)&&d.push(v.value.find(c=>c.id===s.id))}):L.forEach(s=>{l.locations.length?l.locations.forEach(c=>{f.entitiesRelations[s][l.service.id]&&f.entitiesRelations[s][l.service.id].indexOf(c.id)!==-1&&v.value.find(h=>h.id===parseInt(s))&&!d.find(h=>h.id===parseInt(s))&&d.push(v.value.find(h=>h.id===parseInt(s)))}):f.entitiesRelations[s][l.service.id]&&v.value.find(c=>c.id===parseInt(s))&&!d.find(c=>c.id===parseInt(s))&&d.push(v.value.find(c=>c.id===parseInt(s)))})}),d}function Qe(f,y){let d=[],L=Object.keys(f.entitiesRelations),v=k(ze&&ze.location?f.unfilteredLocations.filter(l=>l.id===parseInt(ze.location)):f.unfilteredLocations);return y.bookable.forEach(l=>{l.locations.length?l.locations.forEach(s=>{v.value.find(c=>c.id===s.id)&&!d.find(c=>c.id===s.id)&&d.push(v.value.find(c=>c.id===s.id))}):L.forEach(s=>{v.value.forEach(c=>{s in f.entitiesRelations&&l.service.id in f.entitiesRelations[s]&&f.entitiesRelations[s][l.service.id].indexOf(c.id)!==-1&&v.value.find(h=>h.id===c.id)&&!d.find(h=>h.id===parseInt(c.id))&&d.push(v.value.find(h=>h.id===c.id))})})}),d}function za(f){let y=[];return f.categories.forEach(d=>{let L=st(d,f);d.packageList=[],f.packages.forEach(v=>{L.forEach(l=>{v.bookable.filter(s=>s.service.id===l).length&&!d.packageList.filter(s=>s===v.id).length&&v.available&&v.status==="visible"&&!Dt(f,v)&&Et(f,v)&&d.packageList.push(v.id)})}),d.status==="visible"&&d.serviceList.length&&!!L.length&&(ze.show==="packages"?!!d.packageList.length:!0)&&y.push(d)}),y}const Aa={class:"am-fcl__item-inner"},Ra={class:"am-fcl__item-heading"},Ma={class:"am-fcl__item-name"},Oa={class:"am-fcl__item-segments"},Na={key:0,class:"am-fcl__item-segments__item"},Va=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),Ua={class:"am-fcl__item-segments__item-count"},Wa={key:1,class:"am-fcl__item-segments__item"},ja=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),Ha={class:"am-fcl__item-segments__item-count"},qa={class:"am-fcl__item-footer"},Ja=["src"],Ga={class:"am-empty__heading"},Qa={class:"am-empty__subheading"},Xa={class:"am-empty__text"},Ya={key:0},Za={href:"https://wpamelia.com/services-and-categories/"},Ka={key:1},ei={key:2,href:"https://wpamelia.com/employees/"},ti={name:"CategoriesList",key:"categoriesList"},ai=Object.assign(ti,{setup(f){const y=x("baseUrls");let d=k(null),L=k(0);window.addEventListener("resize",v);function v(){d.value&&(L.value=d.value.offsetWidth)}Ee(()=>{d.value&&(L.value=d.value.offsetWidth)});let l=$(()=>L.value<=500?"am-w100":L.value<=600?"am-w50":L.value<=768?"am-w33":""),{nextPage:s}=x("changingPageFunctions",{nextPage:()=>{}});const c=x("settings");let h=Ke();const m=x("shortcodeData");let N=x("amEntities"),he=x("customizedDataForm"),I=$(()=>he.value.categoriesList.options),B=x("availableCategories"),n=$(()=>{let se=[];return N.value.categories.forEach(Z=>{let K=st(Z,N.value);Z.packageList=[],N.value.packages.forEach(G=>{K.forEach(H=>{G.bookable.filter(re=>re.service.id===H).length&&!Z.packageList.filter(re=>re===G.id).length&&G.available&&G.status==="visible"&&!Dt(N.value,G)&&Et(N.value,G)&&Z.packageList.push(G.id)})}),Z.status==="visible"&&Z.serviceList.length&&!!K.length&&(m.value.show==="packages"?!!Z.packageList.length:!0)&&se.push(Z)}),Ce(()=>{B.value=JSON.parse(JSON.stringify(se))}),se}),F=x("categorySelected");function g(se){F.value=se,h.commit("booking/setCategoryId",parseInt(se)),at(h,{},"SelectCategory","appointment",null,null),s()}let j=$(()=>n.value.length===0);const b=x("labels"),pe=x("localLanguage");let $e=$(()=>c.general.usedLanguages.includes(pe.value)),w=$(()=>{let se=We(He({},b));if(c.customizedData&&c.customizedData.cbf&&c.customizedData.cbf.categoriesList.translations){let Z=c.customizedData.cbf.categoriesList.translations;Object.keys(Z).forEach(K=>{Z[K][pe.value]&&$e.value?se[K]=Z[K][pe.value]:Z[K].default&&(se[K]=Z[K].default)})}return se}),be=x("amColors"),ae=$(()=>({"--am-c-fcl-card-text-op80":ee(be.value.colorCardText,.8)}));return(se,Z)=>e(j)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:d,class:"am-empty"},[t("img",{src:e(y).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ja),t("div",Ga,o(e(w).oops),1),t("div",Qa,o(e(m).show!=="packages"?e(w).no_services_employees:e(w).no_package_services),1),t("div",Xa,[e(m).show!=="packages"?(a(),i("span",Ya,o(e(w).add_services_employees)+"\xA0 ",1)):_("",!0),t("a",Za,o(e(w).add_services_url)+"\xA0 ",1),e(m).show!=="packages"?(a(),i("span",Ka,o(e(w).and)+"\xA0 ",1)):_("",!0),e(m).show!=="packages"?(a(),i("a",ei,o(e(w).add_employees_url),1)):_("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:d,class:"am-fcl",style:ve(e(ae))},[(a(!0),i(te,null,me(e(n),K=>(a(),i("div",{key:K.id,class:z(["am-fcl__item",e(l)])},[t("div",Aa,[t("div",{class:"am-fcl__item-content",style:ve(e(I).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:e(ot)[Math.floor(Math.random()*e(ot).length)]}:{})},[t("div",Ra,[t("div",Ma,o(K.name),1),t("div",Oa,[(!e(m).show||e(m).show==="services")&&e(I).services.visibility?(a(),i("div",Na,[Va,t("span",Ua,o(e(st)(K,e(N)).length),1)])):_("",!0),(!e(m).show||e(m).show==="packages")&&K.packageList.length&&e(I).packages.visibility?(a(),i("div",Wa,[ja,t("span",Ha,o(K.packageList.length),1)])):_("",!0)])]),t("div",qa,[W(Le,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(I).cardButton.buttonType,suffix:e(Xt),onClick:G=>g(K.id)},{default:A(()=>[Se(o(e(w).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const ii={class:"am-fcil__filter-buttons"},si={class:"am-fcil__filter"},li={class:"am-fcil__filter-item__btn-wrapper"},ni={class:"am-fcil__heading"},oi={key:0,class:"am-fcil__item-badge__wrapper"},ci={class:"am-fcil__item-badge am-package"},ri=t("span",{class:"am-icon-shipment"},null,-1),ui={class:"am-fcil__item-heading"},di={class:"am-fcil__item-name"},mi={key:0,class:"am-fcil__item-cost"},pi={key:0,class:"am-fcil__item-discount"},_i={class:"am-fcil__item-price"},vi={class:"am-fcil__item-info"},fi={key:0,class:"am-fcil__item-info__inner"},gi=t("span",{class:"am-icon-folder"},null,-1),yi={key:1,class:"am-fcil__item-info__inner"},hi=t("span",{class:"am-icon-clock"},null,-1),bi={key:0},ki={key:1},$i={key:2},wi={key:2,class:"am-fcil__item-info__inner"},Ci=t("span",{class:"am-icon-user"},null,-1),Si=t("span",null,"1/1",-1),xi=[Ci,Si],Pi={key:3,class:"am-fcil__item-info__inner"},Di=t("span",{class:"am-icon-locations"},null,-1),Ei={key:2,class:"am-fcil__item-services"},Li={key:0,class:"am-fcil__item-badge__wrapper"},Ii={class:"am-fcil__item-badge am-service"},Ti=t("span",{class:"am-icon-service"},null,-1),Bi={class:"am-fcil__item-heading"},Fi={class:"am-fcil__item-name"},zi={key:0,class:"am-fcil__item-cost"},Ai={key:0,class:"am-fcil__item-price"},Ri={class:"am-fcil__item-info"},Mi={key:0,class:"am-fcil__item-info__inner"},Oi=t("span",{class:"am-icon-folder"},null,-1),Ni={key:1,class:"am-fcil__item-info__inner"},Vi=t("span",{class:"am-icon-clock"},null,-1),Ui={key:2,class:"am-fcil__item-info__inner"},Wi=t("span",{class:"am-icon-user"},null,-1),ji={key:3,class:"am-fcil__item-info__inner"},Hi=t("span",{class:"am-icon-locations"},null,-1),qi={class:"am-fcil-employee__header"},Ji={class:"am-fcil-employee__heading"},Gi={class:"am-fcil-employee__heading-left"},Qi={class:"am-fcil-employee__name"},Xi={key:0,class:"am-fcil-employee__heading-right"},Yi={class:"am-fcil-employee__price"},Zi=["innerHTML"],Ki={key:1,ref:"ameliaContainer",class:"am-empty"},es=["src"],ts={class:"am-empty__heading"},as={class:"am-empty__subheading"},is={class:"am-empty__text"},ss={key:0},ls={href:"https://wpamelia.com/services-and-categories/"},ns={key:1},os={key:2,href:"https://wpamelia.com/employees/"},cs={name:"CategoryItemsList",key:"categoryItemsList"},rs=Object.assign(cs,{setup(f){let y=x("licence"),{nextPage:d,previousPage:L}=x("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const v=x("baseUrls");let l=k(!1),s=k(),c=x("containerWidth"),h=x("customizedDataForm"),m=$(()=>h.value.categoryItemsList.options),N=$(()=>{let O=s.value&&s.value.catContainerWidth?s.value.catContainerWidth>768:!0;return!B.value.category&&m.value.sidebar.visibility&&O});const he=x("settings");let I=Ke();const B=x("shortcodeData");let n=x("amEntities");const F=x("labels"),g=x("localLanguage");let j=$(()=>he.general.usedLanguages.includes(g.value)),b=$(()=>{let O=We(He({},F));if(he.customizedData&&he.customizedData.cbf&&he.customizedData.cbf.categoryItemsList.translations){let S=he.customizedData.cbf.categoryItemsList.translations;Object.keys(S).forEach(r=>{S[r][g.value]&&j.value?O[r]=S[r][g.value]:S[r].default&&(O[r]=S[r].default)})}return O}),pe=k(""),$e=wt({components:{IconComponent:Ct},template:'<IconComponent icon="search"/>'}),w=k(!0),be=wt({components:{IconComponent:Ct},template:'<IconComponent icon="filter"/>'}),ae=$(()=>s.value&&s.value.catHeaderWidth?s.value.catHeaderWidth:0);window.addEventListener("resize",se);function se(){Ce(()=>{ae.value>480&&(w.value=!0)})}Ee(()=>{se()});function Z(O){let S=[];return pe.value.toLowerCase().split(" ").forEach(r=>{S.push(O.toLowerCase().includes(r))}),S.filter(r=>r===!1).length<=0}let K=x("availableCategories"),G=x("categorySelected"),H=$(()=>st(n.value.categories.find(O=>O.id===G.value),n.value,xe.value,p.value)),re=$(()=>{let O=[];return n.value.packages.forEach(S=>{H.value.forEach(r=>{S.bookable.filter(oe=>oe.service.id===r).length&&!O.filter(oe=>oe.id===S.id).length&&S.available&&S.status==="visible"&&!Dt(n.value,S)&&Et(n.value,S)&&(pe.value?Z(S.name):!0)&&O.push(S)})}),O}),ke=$(()=>{let O=[];return n.value.services.forEach(S=>{H.value.forEach(r=>{S.id===r&&(pe.value?Z(S.name):!0)&&O.push(S)})}),O}),xe=k(null),p=k(null),Q=k(!0),le=k(!0);function Te(O){O==="all"&&(Q.value=!0,le.value=!0),O==="packages"&&(Q.value=!0,le.value=!1),O==="services"&&(Q.value=!1,le.value=!0)}St(()=>{B.value.show&&Te(B.value.show)});let U=$(()=>{let O=B.value.employee,S=n.value.employees.length,r=B.value.location,oe=n.value.locations.length,De=m.value.searchInput.visibility,Ve=m.value.filterEmployee.visibility&&!O&&S>1&&!y.isLite,Re=m.value.filterLocation.visibility&&!r&&oe>1&&!y.isLite,Be=m.value.filterButtons.visibility&&B.value.show!=="packages"&&B.value.show!=="services"&&re.value.length!==0&&ke.value.length!==0,ce={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ae.value>992?!De||!Be?(ce.employee=!De&&!Be?"am-w50":"am-w35",ce.location=!De&&!Be?"am-w50":"am-w35",ce.search=!Be&&!Re&&!Ve?"am-w100":"am-w30",Ve||(ce.location=!De&&!Be?"am-w100":"am-w70"),Re||(ce.employee=!De&&!Be?"am-w100":"am-w70")):(Ve||(ce.location="am-w40"),Re||(ce.employee="am-w40"),!Ve&&!Re&&(ce.search="am-w70")):ae.value>768||ae.value>480?(ce.search=Be?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ce.buttons=De?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ce.employee=Re?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ce.location=Ve?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ce.category="am-w100 am-tablet am-order5"):(ce.employee="am-w100 am-mobile",ce.location="am-w100 am-mobile",ce.search="am-w100 am-mobile",ce.buttons="am-w100 am-mobile",ce.category="am-w100 am-mobile"),ce}),ne=$(()=>s.value&&s.value.catContainerWidth?s.value.catContainerWidth:0),fe=$(()=>{let O=ke.value.length>1?b.value.heading_services:b.value.heading_service,S=re.value.length?re.value.length>1?b.value.packages:b.value.package:"";if(!ke.value.length&&!re.value.length)return b.value.no_search_data;if(le.value&&(!Q.value||!re.value.length))return`${b.value.available} - ${ke.value.length} ${O}`;if((!le.value||!ke.value.length)&&Q.value)return`${b.value.available} - ${re.value.length} ${S}`;let r=re.value.length?"/":"";return`${b.value.available} - ${ke.value.length} ${O} ${r} ${re.value.length} ${S}`});Ee(()=>{Ce(()=>{l.value=re.value.length===0&&ke.value.length===0})});function je(O){G.value=O.id,I.commit("booking/setCategoryId",parseInt(O.id))}let Oe=x("itemType");function q(O){I.commit("booking/setServiceId",parseInt(O)),I.commit("booking/setBookableType","appointment"),I.commit("booking/setSelectedExtras",[]),Oe.value="appointment",at(I,{},"SelectService","appointment",null,null),Ce(()=>{d()})}function M(O){I.commit("booking/setPackageId",O.id),I.commit("booking/setBookableType","package"),I.commit("booking/setMultipleAppointments",_t(0,O)),I.commit("booking/setMultipleAppointmentsIndex",0),Oe.value="package",at(I,{},"SelectPackage","package",null,null),Ce(()=>{d()})}function R(){G.value=null,I.commit("booking/setCategoryId",null),L()}let J=k(!1),Ae=k(""),Ne=k([]),V=k({}),D=k(null);function C(){Ae.value="",Ne.value=[],V.value={},D.value=null}function T(O){Ne.value=Ot(n.value,O),V.value=O,J.value=!0}function vt(O){let S=[];Object.keys(n.value.entitiesRelations).forEach(oe=>{oe in n.value.entitiesRelations&&O in n.value.entitiesRelations[oe]&&n.value.employees.find(De=>De.id===parseInt(oe))&&S.push(n.value.employees.find(De=>De.id===parseInt(oe)))}),Ne.value=S,Ae.value="service",J.value=!0,D.value=O}function et(O){let S=n.value.services.find(oe=>oe.id===D.value).price,r=O.serviceList.find(oe=>oe.id===D.value).price;return r!==S?`${r-S>0?"+":"-"} ${Ue(r-S)}`:0}function ft(){Ae.value==="service"?q(D.value):M(V.value),C()}function qe(O,S){let r="";return O>1?(S==="day"&&(r=b.value.expires_days),S==="week"&&(r=b.value.expires_weeks),S==="month"&&(r=b.value.expires_months)):(S==="day"&&(r=b.value.expires_day),S==="week"&&(r=b.value.expires_week),S==="month"&&(r=b.value.expires_month)),r}function lt(O,S){return Pe(O,S).length===1?Pe(O,S)[0].address?Pe(O,S)[0].address:Pe(O,S)[0].name:b.value.multiple_locations}let gt=x("amFonts",k({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),_e=x("amColors"),yt=$(()=>({"--am-c-fcil-text-op-10":ee(_e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee(_e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee(_e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee(_e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee(_e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee(_e.value.colorInpText,.1),"--am-w-fcil-main":!B.value.category&&m.value.sidebar.visibility&&N.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":s.value&&s.value.catFormWidth<580?"100%":"50%"})),tt=$(()=>({"--am-f-fcil-employee-f":gt.value.fontFamily,"--am-c-fcil-employee-bgr":_e.value.colorMainBgr,"--am-c-fcil-employee-heading":_e.value.colorMainHeadingText,"--am-c-fcil-employee-text":_e.value.colorMainText,"--am-c-fcil-employee-text-op80":ee(_e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee(_e.value.colorMainText,.15),"--am-c-fcil-employee-primary":_e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee(_e.value.colorPrimary,.1),"--am-c-inp-border":_e.value.colorInpBorder,"--am-c-main-text":_e.value.colorMainText}));return(O,S)=>e(l)?(a(),i("div",Ki,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,es),t("div",ts,o(e(b).oops),1),t("div",as,o(e(B).show!=="packages"?e(b).no_services_employees:e(b).no_package_services),1),t("div",is,[e(B).show!=="packages"?(a(),i("span",ss,o(e(b).add_services_employees)+"\xA0 ",1)):_("",!0),t("a",ls,o(e(b).add_services_url)+"\xA0 ",1),e(B).show!=="packages"?(a(),i("span",ns,o(e(b).and)+"\xA0 ",1)):_("",!0),e(B).show!=="packages"?(a(),i("a",os,o(e(b).add_employees_url),1)):_("",!0)])],512)):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:s,"wrapper-class":`am-fcil ${e(c)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(c)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(c)<481?"am-mobile":""}`,style:ve(e(yt))},pt({header:A(()=>[t("span",ii,[!e(B).category&&!e(B).categories_hidden?(a(),ye(xt,{key:0,"btn-size":e(ae)<481?"medium":"mini","btn-string":e(b).back_btn,"btn-type":e(m).backBtn.buttonType,onClick:R},null,8,["btn-size","btn-string","btn-type"])):_("",!0),e(ae)<481?(a(),ye(Le,{key:1,size:"medium",category:"secondary",type:e(m).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(be),onClick:S[0]||(S[0]=()=>de(w)?w.value=!e(w):w=!e(w))},null,8,["type","icon"])):_("",!0)]),t("div",si,[e(m).searchInput.visibility?(a(),i("div",{key:0,class:z(["am-fcil__filter-item",e(U).search])},[W(Yt,{modelValue:e(pe),"onUpdate:modelValue":S[1]||(S[1]=r=>de(pe)?pe.value=r:pe=r),placeholder:e(b).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):_("",!0),W(Me,{name:"slide-fade"},{default:A(()=>[!e(B).employee&&e(n).employees.length>1&&e(m).filterEmployee.visibility&&e(w)&&!e(y).isLite?(a(),i("div",{key:0,class:z(["am-fcil__filter-item",e(U).employee])},[W(bt,{modelValue:e(xe),"onUpdate:modelValue":S[2]||(S[2]=r=>de(xe)?xe.value=r:xe=r),clearable:"",filterable:"",placeholder:e(b).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(n).employees,r=>(a(),ye(kt,{key:r.id,value:r.id,label:`${r.firstName} ${r.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):_("",!0)]),_:1}),W(Me,{name:"slide-fade"},{default:A(()=>[!e(B).location&&e(n).locations.length>1&&e(m).filterLocation.visibility&&e(w)&&!e(y).isLite?(a(),i("div",{key:0,class:z(["am-fcil__filter-item",e(U).location])},[W(bt,{modelValue:e(p),"onUpdate:modelValue":S[3]||(S[3]=r=>de(p)?p.value=r:p=r),clearable:"",filterable:"",placeholder:e(b).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(n).locations,r=>(a(),ye(kt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):_("",!0)]),_:1}),W(Me,{name:"slide-fade"},{default:A(()=>[!e(B).category&&e(m).sidebar.visibility&&!e(N)&&e(w)?(a(),i("div",{key:0,class:z(["am-fcil__filter-item am-w100",e(U).category])},[W(bt,{modelValue:e(G),"onUpdate:modelValue":S[4]||(S[4]=r=>de(G)?G.value=r:G=r),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(te,null,me(e(K),r=>(a(),ye(kt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):_("",!0)]),_:1}),!e(B).show&&e(m).filterButtons.visibility&&e(re).length!==0&&e(ke).length!==0?(a(),i("div",{key:1,class:z(["am-fcil__filter-item",e(U).buttons])},[t("div",li,[t("div",{class:z(["am-fcil__filter-item__btn",{"am-active":e(Q)&&e(le)}]),onClick:S[5]||(S[5]=r=>Te("all"))},[t("span",null,o(e(b).filter_all),1)],2),t("div",{class:z(["am-fcil__filter-item__btn",{"am-active":e(Q)&&!e(le)}]),onClick:S[6]||(S[6]=r=>Te("packages"))},[t("span",null,o(e(b).filter_packages),1)],2),t("div",{class:z(["am-fcil__filter-item__btn",{"am-active":!e(Q)&&e(le)}]),onClick:S[7]||(S[7]=r=>Te("services"))},[t("span",null,o(e(b).filter_services),1)],2)])],2)):_("",!0)])]),heading:A(()=>[t("div",ni,o(e(fe)),1)]),content:A(()=>[e(Q)?(a(!0),i(te,{key:0},me(e(re),r=>(a(),i("div",{key:r.id,class:z(["am-fcil__item",{"am-mobile":e(ne)<481}])},[t("div",{class:z(["am-fcil__item-inner",{"am-mobile":e(ne)<481}])},[e(m).packageBadge.visibility?(a(),i("div",oi,[t("div",ci,[ri,t("span",null,o(e(b).package),1)])])):_("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):_("",!0),t("div",ui,[t("div",di,o(r.name),1),e(m).packagePrice.visibility?(a(),i("div",mi,[r.discount?(a(),i("span",pi,o(`${e(b).save} ${r.discount}%`),1)):_("",!0),t("span",_i,o(r.price?e(Ue)(r.calculatedPrice?r.price:r.price-r.price/100*r.discount):e(b).free),1)])):_("",!0)]),t("div",vi,[e(m).packageCategory.visibility?(a(),i("div",fi,[gi,t("span",null,o(e(K).find(oe=>oe.id===e(G)).name),1)])):_("",!0),e(m).packageDuration.visibility?(a(),i("div",yi,[hi,r.endDate?(a(),i("span",bi,o(`${e(b).expires_at} ${r.endDate.split(" ")[0]}`),1)):r.durationCount?(a(),i("span",ki,o(`${e(b).expires_after} ${r.durationCount} ${qe(r.durationCount,r.durationType)}`),1)):(a(),i("span",$i,o(e(b).without_expiration),1))])):_("",!0),e(m).packageCapacity.visibility?(a(),i("div",wi,xi)):_("",!0),e(Qe)(e(n),r).length&&e(m).packageLocation.visibility?(a(),i("div",Pi,[Di,t("span",null,o(e(Qe)(e(n),r).length===1?e(Qe)(e(n),r)[0].address?e(Qe)(e(n),r)[0].address:e(Qe)(e(n),r)[0].name:e(b).multiple_locations),1)])):_("",!0)]),e(m).packageServices.visibility?(a(),i("div",Ei,[t("span",null,o(`${e(b).in_package}:`),1),(a(!0),i(te,null,me(r.bookable,oe=>(a(),i("span",{key:oe.id},o(oe.service.name),1))),128))])):_("",!0),t("div",{class:z(["am-fcil__item-footer",[{"am-mobile":e(ne)<481},{"am-micro":e(ne)<320}]])},[e(m).cardEmployeeBtn.visibility?(a(),ye(Le,{key:0,class:z({"am-w100":e(ne)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:oe=>T(r)},{default:A(()=>[Se(o(e(b).view_employees),1)]),_:2},1032,["class","type","onClick"])):_("",!0),W(Le,{class:z([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ne)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:oe=>M(r)},{default:A(()=>[Se(o(e(b).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):_("",!0),e(le)?(a(!0),i(te,{key:1},me(e(ke),r=>(a(),i("div",{key:r.id,class:z(["am-fcil__item",{"am-mobile":e(ne)<481}])},[t("div",{class:z(["am-fcil__item-inner",{"am-mobile":e(ne)<481}])},[e(m).serviceBadge.visibility?(a(),i("div",Li,[t("div",Ii,[Ti,t("span",null,o(e(b).heading_service),1)])])):_("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ve({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):_("",!0),t("div",Bi,[t("div",Fi,o(r.name),1),e(m).servicePrice.visibility?(a(),i("div",zi,[e(Ze)(e(n),r.id).min||e(Ze)(e(n),r.id).max?(a(),i("span",Ai,o(e(Ze)(e(n),r.id).price),1)):_("",!0)])):_("",!0)]),t("div",Ri,[e(m).serviceCategory.visibility?(a(),i("div",Mi,[Oi,t("span",null,o(e(K).find(oe=>oe.id===e(G)).name),1)])):_("",!0),e(m).serviceDuration.visibility?(a(),i("div",Ni,[Vi,t("span",null,o(e(Mt)(r.duration)),1)])):_("",!0),e(m).serviceCapacity.visibility&&!e(y).isLite?(a(),i("div",Ui,[Wi,t("span",null,o(e(Rt)(e(n),r.id)),1)])):_("",!0),e(Pe)(e(n),r.id).length&&e(m).serviceLocation.visibility?(a(),i("div",ji,[Hi,t("span",null,o(lt(e(n),r.id)),1)])):_("",!0)]),t("div",{class:z(["am-fcil__item-footer",[{"am-mobile":e(ne)<481},{"am-micro":e(ne)<320}]])},[e(m).cardEmployeeBtn.visibility&&!e(y).isLite?(a(),ye(Le,{key:0,class:z({"am-w100":e(ne)<320}),size:"small",type:e(m).cardEmployeeBtn.buttonType,onClick:oe=>vt(r.id)},{default:A(()=>[Se(o(e(b).view_employees),1)]),_:2},1032,["class","type","onClick"])):_("",!0),W(Le,{class:z([{"am-w100":!e(m).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ne)<320}]),size:"small",type:e(m).cardContinueBtn.buttonType,onClick:oe=>q(r.id)},{default:A(()=>[Se(o(e(b).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):_("",!0),W(it,{modelValue:e(J),"onUpdate:modelValue":S[9]||(S[9]=r=>de(J)?J.value=r:J=r),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(tt),width:"648px",onClose:C},{title:A(()=>[t("div",qi,o(e(b).employee_info),1)]),default:A(()=>[t("div",null,[W(ct,null,{default:A(()=>[(a(!0),i(te,null,me(e(Ne),(r,oe)=>(a(),ye(rt,{key:oe,side:""},{heading:A(()=>[t("div",Ji,[t("div",Gi,[W(Ye,{"item-class":"am-fcil-employee__img","item-data":r,"trim-string":2},null,8,["item-data"]),t("div",Qi,o(`${r.firstName} ${r.lastName}`),1)]),e(Ae)==="service"&&et(r)!==0?(a(),i("div",Xi,[t("div",Yi,o(et(r)),1)])):_("",!0)])]),default:A(()=>[r.description?(a(),i("div",{key:0,class:z(["am-fcil-employee__text",{"ql-description":r.description.includes("<!-- Content -->")}]),innerHTML:r.description},null,10,Zi)):_("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(m).dialogEmployeeBtn.visibility?(a(),ye(Le,{key:0,type:e(m).dialogEmployeeBtn.buttonType,category:"primary",onClick:S[8]||(S[8]=r=>ft())},{default:A(()=>[Se(o(e(Ae)==="service"?e(b).book_service:e(b).book_package),1)]),_:1},8,["type"])):_("",!0)]),_:1},8,["modelValue","custom-styles"])]),_:2},[!e(B).category&&e(m).sidebar.visibility&&e(N)?{name:"side",fn:A(()=>[W(Ta,{"menu-items":e(K),"init-selection":e(G),identifier:"id","name-identifier":"name","footer-string":e(b).get_in_touch,"company-email":e(he).company.email,onClick:je},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const us=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),ds=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),ms=["href"],ps={class:"am-fs-sb__step-wrapper"},_s={class:"am-fs-sb__step-inner"},vs={class:"am-fs-sb__step-icon"},fs={key:0,class:"am-icon-check"},gs={key:0},ys={key:1},hs={key:1},bs={key:0,class:"am-fs-sb__step"},ks={class:"am-fs-sb__step-inner"},$s={class:"am-fs-sb__step-icon"},ws={key:0,class:"am-icon-check"},Cs={key:0,class:"am-fs-sb__support"},Ss=["href"],xs={key:1,class:"am-icon-phone"},Ps=["href"],Ds={key:1,class:"am-icon-email"},Es={key:0,class:"am-fs-sb__menu-text"},Ls={key:2,class:"am-no-services"},Is=["src"],Ts={href:"https://wpamelia.com/services-and-categories/"},Bs={style:{"font-size":"14px"}},Fs={href:"https://wpamelia.com/employees/"},zs={name:"CategoryBooking"},Nt=Object.assign(zs,{setup(f){let y=k(null),d=k();Y("containerWidth",d);let L=k(!1);window.addEventListener("resize",v);function v(){y.value&&(d.value=y.value.offsetWidth)}Ee(()=>{Ce(()=>{y.value&&(d.value=y.value.offsetWidth)}),at(g,{containerWidth:d},"ContainerWidth","appointment",null,null)});const l=x("settings"),s=l.customizedData?l.customizedData.sbsNew:Xe.sbsNew;s&&Y("amCustomize",s);let c=$(()=>{let u={heading:!0,phone:!0,email:!0};return"supportHeading"in s.sidebar.options&&(u.heading=s.sidebar.options.supportHeading.visibility),"companyPhone"in s.sidebar.options&&(u.phone=s.sidebar.options.companyPhone.visibility),"companyEmail"in s.sidebar.options&&(u.email=s.sidebar.options.companyEmail.visibility),u});const h=k(l.customizedData?l.customizedData.fonts:Xe.fonts);Y("amFonts",h);let m=k(!1),N=k(""),he=x("bookingDialogWidth");ut(m,u=>{u?setTimeout(()=>{N.value="am-collapsed",setTimeout(()=>{he.value="592px"},200)},1e3):(N.value="",he.value="760px")}),Ee(()=>{s.sidebar.options.self.visibility||(he.value="520px")});let I=k(null),B=k(0);Ee(()=>{setTimeout(()=>{Ce(()=>{I.value&&setTimeout(()=>{B.value=I.value.offsetHeight},200)})},800)});let n=k(s.sidebar?s.sidebar.options.self.visibility:!0);const F=x("baseUrls"),g=Ke();let j=$(()=>({category:g.state.booking.appointment.categoryId?g.state.booking.appointment.categoryId:"",counter:g.state.entities.preselected.counter,employee:g.state.booking.appointment.providerId,hasApiCall:g.state.entities.preselected.hasApiCall,location:g.state.booking.appointment.locationId,service:g.state.booking.appointment.serviceId?g.state.booking.appointment.serviceId:"",package:g.state.booking.packageId,show:g.state.booking.appointment.type==="package"?"packages":"services",trigger:""}));g.commit("entities/setPreselected",j.value);let b=x("restoreFormData");const pe=we(Zt),$e=we(Kt),w=we(ea),be=we(ta),ae=we(aa),se=we(ia),Z=we(sa),K=we(la),G=we(na),H=we(oa),re=we(ca),ke=we(ra),xe=we(ua),p=k([pe,se,H,G]);Y("stepsArray",p);const Q=x("labels"),le=x("localLanguage");let Te=$(()=>l.general.usedLanguages.includes(le.value)),U=$(()=>{let u=We(He({},Q));return l.customizedData&&Object.keys(l.customizedData.sbsNew).forEach(P=>{if(P!=="colors"&&l.customizedData.sbsNew[P].translations){let E=l.customizedData.sbsNew[P].translations;Object.keys(E).forEach(X=>{E[X][le.value]&&Te.value?u[X]=E[X][le.value]:E[X].default&&(u[X]=E[X].default)})}}),u});Y("amLabels",U);let ne=$(()=>{let u={};if(l.customizedData){let P=l.customizedData.sbsNew[p.value[T.value].key]?l.customizedData.sbsNew[p.value[T.value].key].translations:null;l.customizedData&&P&&Object.keys(P).forEach(E=>{P[E][le.value]&&Te.value?u[E]=P[E][le.value]:P[E].default&&(u[E]=P[E].default)})}return Object.keys(u).length?u:Q}),fe=$(()=>{let u="filled";return l.customizedData&&l.customizedData.sbsNew[p.value[T.value].key]&&(u=l.customizedData.sbsNew[p.value[T.value].key].options.primaryFooterButton.buttonType),u});Y("primFooterBtnType",fe),Y("primDescBtnType",fe);let je=$(()=>{let u="text";return l.customizedData&&l.customizedData.sbsNew[p.value[T.value].key]&&l.customizedData.sbsNew[p.value[T.value].key].options.secondaryFooterButton&&(u=l.customizedData.sbsNew[p.value[T.value].key].options.secondaryFooterButton.buttonType),u}),Oe=$(()=>da(g.getters["entities/getEmployeeServices"](g.getters["booking/getSelection"])));function q(){let u=g.getters["entities/getPreselected"];if(u.show==="packages")u.package&&(p.value.splice(0,1),ie.value.splice(0,1),J()),Fe();else{C();let P=g.getters["entities/filteredEmployees"](g.getters["booking/getSelection"]).length<=1,E=!s.initStep.options.employee.visibility,X=g.getters["entities/filteredLocations"](g.getters["booking/getSelection"]).length<=1,ue=!s.initStep.options.location.visibility;u.service&&(u.employee||P||E)&&(u.location||X||ue)&&(Oe.value.availability?(p.value.splice(0,1,xe),ie.value.splice(0,1)):(p.value.splice(0,1),ie.value.splice(0,1)),Fe())}}function M(u,P,E){u.value.map((ue,Je)=>P.includes(ue.name)?Je:null).filter(ue=>ue!==null).reverse().forEach(ue=>{u.value.splice(ue,1)}),E.forEach(ue=>{u.value.indexOf(ue)===-1&&(g.getters["entities/getPreselected"].show==="packages"&&g.getters["entities/getPreselected"].package?u.value.splice(T.value,0,ue):u.value.splice(T.value+1,0,ue))})}Y("goToPackageStep",{goToPackageStep:R}),Y("removePackageStep",{removePackageStep:Ae});function R(u){g.commit("booking/setPackageId",u.id),g.commit("booking/setBookableType","package"),g.commit("booking/setMultipleAppointments",_t(0,u)),g.commit("booking/setMultipleAppointmentsIndex",0);let P=u.bookable.reduce((ue,Je)=>ue+Je.maximumScheduled,0),E=[],X=[];p.value[0]!==$e&&E.push("ExtrasStep"),p.value[0]!==se&&E.push("DateTimeStep"),P>0?X=X.concat([K,Z,w]):X.push(w),M(p,E,X),M(ie,E,[]),Fe(),qe()}function J(){let P=g.state.entities.packages.find(ue=>ue.id===g.getters["booking/getPackageId"]).bookable.reduce((ue,Je)=>ue+Je.maximumScheduled,0),E=[],X=[];p.value.find(ue=>ue.name==="ExtrasStep")&&E.push("ExtrasStep"),p.value.find(ue=>ue.name==="DateTimeStep")&&E.push("DateTimeStep"),P>0?X=X.concat([K,Z,w]):X.push(w),M(p,E,X),M(ie,E,[]),Fe(),qe()}function Ae(){let u=[];p.value[0]!==se&&u.push(se),p.value[0]!==$e&&D.value&&D.value.length&&u.push($e),M(p,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],u),M(ie,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[]),Fe()}Y("goToRecurringStep",{goToRecurringStep:Ne}),Y("removeRecurringStep",{removeRecurringStep:V});function Ne(){let u=0;for(let P=0;P<p.value.length;P++)if(p.value[P].name==="DateTimeStep"){u=P;break}p.value.splice(u+1,0,be),p.value.splice(u+2,0,ae),Fe(),qe()}function V(){for(let u=0;u<p.value.length;u++)p.value[u].name==="RecurringStep"||p.value[u].name;for(let u=p.value.length-1;u>=0;u--)(p.value[u].name==="RecurringStep"||p.value[u].name==="RecurringSummary")&&p.value.splice(u+1,1);Fe()}let D=$(()=>{let u=g.getters["entities/getService"](g.getters["booking/getServiceId"]);return u?u.extras:[]});function C(){if(D.value.length&&!p.value.find(u=>u.name==="ExtrasStep")){let u=T.value;p.value.splice(u+1,0,$e),Fe()}ie.value.find(u=>u.name==="ExtrasStep")&&!Object.keys(D.value).length&&(p.value.splice(1,1),ie.value.splice(1,1))}Y("initDataChanges",{changeInitStepDataService:C});const T=k(0);Y("stepIndex",T);let vt=x("stepName",k(""));ut(T,(u,P)=>{u<ie.value.length&&(ie.value[P].selected=!1,ie.value[u].selected=!0),u===ie.value.length&&(ie.value[P].selected=!1),vt.value=p.value[u].name});let et=k(!1);Y("goBackToPackageBooking",et);function ft(){Re(!1),ce.value||(p.value[T.value].name===w.name&&(p.value.splice(T.value,1),ie.value.splice(T.value,1)),p.value[T.value].name===be.name&&(p.value.splice(T.value,2),ie.value.splice(T.value,2)),p.value[T.value].name===K.name&&(et.value=!0),T.value=T.value-1),S.value=!S.value}function qe(){ce.value||(ie.value[T.value].finished=!0,T.value=T.value+1)}let lt=$(()=>g.getters["entities/getReady"]),gt=$(()=>g.getters["booking/getLoading"]),_e=$(()=>g.getters["booking/getBooked"]),yt=$(()=>g.getters["booking/getPaymentGateway"]),tt=k(!1),O=k(!1),S=k(!1);function r(){tt.value=!0}function oe(){tt.value=!1}function De(){S.value=!0}function Ve(){S.value=!1}function Re(u){O.value=u}function Be(){_e.value&&(_e.value.customerCabinetUrl?window.location.href=_e.value.customerCabinetUrl:window.location.href=l.roles.customerCabinet.pageUrl)}Y("secondButton",{secondButtonClick:Be});let ce=k(!1);Y("changingStepsFunctions",{nextStep:qe,previousStep:ft,footerButtonClick:r,footerButtonReset:oe,footerBtnDisabledUpdater:Re,headerButtonPreviousClick:De,headerButtonPreviousReset:Ve,footerBtnDisabled:O,footerButtonClicked:tt,headerButtonPreviousClicked:S,navigateInsideStep:ce});const ie=k([]);Y("sidebarSteps",ie);function Lt(u){ie.value[T.value].stepSelectedData.filter(P=>P.reference===u.reference).length?ie.value[T.value].stepSelectedData.forEach((P,E,X)=>{P.reference===u.reference&&u.value&&u.value!==P.value&&(P.value=u.value),P.reference===u.reference&&!u.value&&X.splice(E,1)}):u.value&&ie.value[T.value].stepSelectedData.push(u),ie.value[T.value].stepSelectedData.sort((P,E)=>P.position-E.position)}function Vt(){p.value.forEach((u,P)=>{if(u.name!=="CongratulationsStep"){let E=u.sidebarData.label,X={name:u.name,key:u.key,label:U.value[E],labelKey:E,icon:u.sidebarData.icon,stepSelectedData:[],finished:!1,selected:P===T.value};ie.value.splice(P,0,X)}})}St(()=>{Vt(),q()}),Ee(()=>{if(b.value){p.value.splice(0,p.value.length),ie.value.splice(0,ie.value.length),T.value=0,b.value.steps.forEach(P=>{switch(P){case"packageStep":p.value.push(ke);break;case"bringingAnyone":p.value.push(xe);break;case"initStep":p.value.push(pe);break;case"packageInfoStep":p.value.push(w);break;case"packageAppointmentsStep":p.value.push(Z);break;case"packageAppointmentsListStep":p.value.push(K);break;case"extrasStep":p.value.push($e);break;case"dateTimeStep":p.value.push(se);break;case"recurringStep":p.value.push(be);break;case"recurringSummary":p.value.push(ae);break;case"infoStep":p.value.push(H);break;case"paymentStep":p.value.push(re);break;case"congratulations":p.value.push(G);break}let E=b.value.sidebar.find(X=>X.key===P);Fe(),typeof E!="undefined"&&E.data&&E.data.forEach(X=>{Lt({reference:X.reference,position:X.position,value:X.value})}),T.value++}),g.commit("booking/setLoading",!1);let u=-1;b.value.result==="success"?u=p.value.length-1:(b.value.result==="error"||b.value.result==="canceled")&&(u=p.value.length-2);for(let P=0;P<=u;P++)p.value[P].finished=!0;for(let P=0;P<=u-1;P++)ie.value[P].finished=!0,ie.value[P].selected=!1;(b.value.result==="error"||b.value.result==="canceled")&&(ie.value[u].finished=!1,ie.value[u].selected=!0),T.value=u}});function Fe(){p.value.forEach((u,P)=>{if(u.name!=="CongratulationsStep"&&!ie.value.find(E=>E.labelKey===u.sidebarData.label)){let E=u.sidebarData.label,X={name:u.name,key:u.key,label:U.value[E],labelKey:E,icon:u.sidebarData.icon,stepSelectedData:[],finished:!1,selected:P===T.value};ie.value.splice(P,0,X)}})}Y("sidebarStepsFunctions",{sidebarDataCollector:Lt}),Y("addPaymentsStep",{addPaymentsStep:It}),Y("removePaymentsStep",{removePaymentsStep:Tt});function It(){p.value.splice(p.value.length-1,0,re),Fe()}function Tt(){let u=["PaymentStep"];M(p,u,[]),M(ie,u,[])}function Ut(){if(g.getters["entities/getPreselected"].show==="packages"){let P=g.getters["booking/getPackageId"]?[g.getters["entities/getPackage"](g.getters["booking/getPackageId"])]:g.getters["entities/getPackages"];return P.length>0&&P.filter(E=>E.price>0).length===P.length}if(!g.getters["booking/getPackageId"]){let P=g.getters["booking/getServiceId"]?[g.getters["entities/getService"](g.getters["booking/getServiceId"])]:g.getters["entities/getServices"],E=0;for(let X of P){let ue=g.getters["booking/getEmployeeId"]?g.getters["entities/getEmployee"](g.getters["booking/getEmployeeId"])?[g.getters["entities/getEmployee"](g.getters["booking/getEmployeeId"])]:[]:g.getters["entities/getEmployees"];if(ue.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===X.id&&(Ie.price>0||Ie.customPricing&&Ie.customPricing.enabled&&(Object.values(Ie.customPricing.durations).length===Object.values(Ie.customPricing.durations).filter(ht=>ht.price>0).length||g.getters["booking/getDuration"]&&Ie.customPricing.durations[g.getters["booking/getDuration"]].price>0)))).length===ue.filter(Ge=>Ge.serviceList.find(Ie=>Ie.id===X.id)).length)E++;else{let Ge=g.getters["booking/getSelectedExtras"].length?g.getters["booking/getSelectedExtras"]:[];Ge.length>0&&Ge.reduce((Ie,ht)=>Ie+ht.price,0)>0&&E++}}return P.length>0&&E===P.length}return g.getters["entities/getPackage"](g.getters["booking/getPackageId"]).price>0}let Wt=$(()=>Ut());ma(()=>{!b.value&&!Wt.value?Tt():b.value||p.value.indexOf(re)===-1&&It()},{flush:"post"});let ge=$(()=>l.customizedData?l.customizedData.sbsNew.colors:Xe.sbsNew.colors);Y("amColors",ge);let jt=$(()=>({"--am-c-primary":ge.value.colorPrimary,"--am-c-success":ge.value.colorSuccess,"--am-c-error":ge.value.colorError,"--am-c-warning":ge.value.colorWarning,"--am-c-main-bgr":ge.value.colorMainBgr,"--am-c-main-heading-text":ge.value.colorMainHeadingText,"--am-c-main-text":ge.value.colorMainText,"--am-c-sb-bgr":ge.value.colorSbBgr,"--am-c-sb-text":ge.value.colorSbText,"--am-c-inp-bgr":ge.value.colorInpBgr,"--am-c-inp-border":ge.value.colorInpBorder,"--am-c-inp-text":ge.value.colorInpText,"--am-c-inp-placeholder":ge.value.colorInpPlaceHolder,"--am-c-drop-bgr":ge.value.colorDropBgr,"--am-c-drop-text":ge.value.colorDropText,"--am-c-btn-prim":ge.value.colorBtnPrim,"--am-c-btn-prim-text":ge.value.colorBtnPrimText,"--am-c-btn-sec":ge.value.colorBtnSec,"--am-c-btn-sec-text":ge.value.colorBtnSecText,"--am-c-skeleton-op20":ee(ge.value.colorMainText,.2),"--am-c-skeleton-op60":ee(ge.value.colorMainText,.6),"--am-font-family":h.value.fontFamily,"--am-mw-main":n.value?m.value?"592px":"760px":"520px","--am-brad-main":n.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function Ht(){let u=document.head||document.getElementsByTagName("head")[0];u.querySelector("#amCustomFont")&&u.querySelector("#amCustomFont").remove();let P=`@font-face {font-family: '${h.value.fontFamily}'; src: url(${h.value.fontUrl});}`,E=document.createElement("style");u.appendChild(E),E.setAttribute("type","text/css"),E.setAttribute("id","amCustomFont"),E.appendChild(document.createTextNode(P))}h.value.customFontSelected&&Ht();let qt=$(()=>({colorInputBorderRadius:"6px"}));return Y("amDesignProperties",qt),Ee(()=>{pa("renderForm",{ameliaContainer:y,containerWidth:d,empty:L,amCustomize:s,amFonts:h,sidebarCollapsed:m,sidebarCollapseItemsClass:N,sidebarFooterRef:I,sidebarFooterHeight:B,sidebarVisibility:n})}),(u,P)=>(a(),i(te,null,[h.value.customFontSelected?_("",!0):(a(),i(te,{key:0},[us,ds,t("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,ms)],64)),e(L)?(a(),i("div",Ls,[t("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Is),t("h1",null,o(e(U).oops),1),t("h3",null,o(e(U).no_services_employees),1),t("p",null,o(e(U).add_services_employees),1),t("a",Ts,o(e(U).add_services_url)+"\xA0 ",1),t("span",Bs,o(e(U).and)+"\xA0",1),t("a",Fs,o(e(U).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:y,class:z(["am-fs__wrapper",{"am-collapsed":e(m)}]),style:ve(e(jt))},[e(d)>560&&e(n)?(a(),ye(fa,{key:0,class:z(["am-fs-sb",{"am-collapsed":e(m)}]),style:ve({width:e(m)?"72px":"240px",paddingBottom:`${e(B)+16}px`})},{"step-list":A(()=>[t("div",ps,[p.value[T.value]!==e(G)||!e(l).general.addToCalendar||e(_e)&&e(_e).data.length===0?(a(!0),i(te,{key:0},me(ie.value,E=>(a(),i("div",{key:E.key,class:"am-fs-sb__step"},[t("div",_s,[t("div",vs,[t("span",{class:z(`am-icon-${E.icon}`)},null,2)]),W(Me,{name:"fade"},{default:A(()=>[e(m)?_("",!0):(a(),i("p",{key:0,class:z(["am-fs-sb__step-heading",e(N)])},o(E.label),3))]),_:2},1024),t("div",{class:z(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":E.selected},e(N)]])},[W(Me,{name:"fade"},{default:A(()=>[E.finished?(a(),i("span",fs)):_("",!0)]),_:2},1024)],2)]),W(_a,{tag:"span",name:"fade",appear:"",class:z(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":E.key===e(Z).key&&E.stepSelectedData.length>3}])},{default:A(()=>[e(m)?_("",!0):(a(!0),i(te,{key:0},me(E.stepSelectedData,(X,ue)=>(a(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[E.key!==e(Z).key||ue<3?(a(),i("span",gs,o(X.value),1)):(a(),i("span",ys,o(e(U).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",hs,[W(Me,{name:"fade"},{default:A(()=>[e(m)?_("",!0):(a(),ye(va,{key:0}))]),_:1}),e(m)?(a(),i("div",bs,[t("div",ks,[t("div",$s,[t("span",{class:z(`am-icon-${p.value[T.value].sidebarData.icon}`)},null,2)]),t("div",{class:z(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":p.value[T.value].sidebarData.selected},e(N)]])},[W(Me,{name:"fade"},{default:A(()=>[p.value[T.value].sidebarData.finished?(a(),i("span",ws)):_("",!0)]),_:1})],2)])])):_("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:I,class:"am-fs-sb__footer"},[(e(l).company.email||e(l).company.phone)&&(e(c).heading||e(c).phone||e(c).email)?(a(),i("div",Cs,[W(Me,{name:"fade"},{default:A(()=>[!e(m)&&e(c).heading?(a(),i("div",{key:0,class:z(["am-fs-sb__support-heading",e(N)])},o(e(U).get_in_touch),3)):_("",!0)]),_:1}),e(l).company.phone&&e(c).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(l).company.phone}`},[e(m)?(a(),i("span",xs)):(a(),i(te,{key:0},[Se(o(e(l).company.phone),1)],64))],8,Ss)):_("",!0),e(l).company.email&&e(c).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(l).company.email}`},[e(m)?(a(),i("span",Ds)):(a(),i(te,{key:0},[Se(o(e(l).company.email),1)],64))],8,Ps)):_("",!0)])):_("",!0),t("div",{class:z(["am-fs-sb__menu",e(N)]),onClick:P[0]||(P[0]=E=>de(m)?m.value=!e(m):m=!e(m))},[W(Me,{name:"fade"},{default:A(()=>[e(m)?_("",!0):(a(),i("span",Es,o(e(U).collapse_menu),1))]),_:1}),t("span",{class:z(`am-icon-arrow-circle-${e(m)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):_("",!0),W(ha,null,pt({step:A(()=>[(a(),ye(At(p.value[T.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[W(e(ya),{"second-button-show":p.value[T.value]===e(G)&&e(l).roles.customerCabinet.enabled&&e(l).roles.customerCabinet.pageUrl!==null,booked:e(_e),loading:e(gt),ready:e(lt),"payment-gateway":e(yt),"customized-labels":e(ne),"primary-footer-button-type":e(fe),"secondary-footer-button-type":e(je)},null,8,["second-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type"])]),_:2},[p.value[T.value]!==e(G)?{name:"header",fn:A(()=>[W(ga,{"sidebar-visible":e(n),ready:e(lt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const As={class:"am-fcis__header-text"},Rs={class:"am-fcis__header-name"},Ms={key:0,class:"am-fcis__badge am-service"},Os=t("span",{class:"am-icon-service"},null,-1),Ns={class:"am-fcis__header-action"},Vs={key:0,class:"am-fcis__header-price"},Us={class:"am-fcis__header-btn"},Ws={key:0,class:"am-fcis__header-bottom"},js={class:"am-fcis__mini-info"},Hs={key:0,class:"am-fcis__mini-info__inner"},qs=t("span",{class:"am-icon-folder"},null,-1),Js={key:1,class:"am-fcis__mini-info__inner"},Gs=t("span",{class:"am-icon-clock"},null,-1),Qs={key:2,class:"am-fcis__mini-info__inner"},Xs=t("span",{class:"am-icon-user"},null,-1),Ys={key:3,class:"am-fcis__mini-info__inner"},Zs=t("span",{class:"am-icon-locations"},null,-1),Ks={key:0,class:"am-fcis__gallery"},el={key:0,class:"am-fcis__gallery-thumb__wrapper"},tl={class:"am-gd__display-wrapper"},al={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},il=["src","alt"],sl={class:"am-gd__selection"},ll={class:"am-gd__thumb-wrapper"},nl=["onClick"],ol={key:1,class:"am-fcis__info"},cl={class:"am-fcis__info-tab__wrapper"},rl={class:"am-fcis__info-content__wrapper"},ul={key:0,class:"am-fcis__info-content"},dl=["innerHTML"],ml={key:1,class:"am-fcis__info-content"},pl={class:"am-fcis__info-employee__hero"},_l={class:"am-fcis__info-employee__heading"},vl={class:"am-fcis__info-employee__name"},fl={key:0,class:"am-fcis__info-employee__price"},gl=["innerHTML"],yl={key:2,class:"am-fcis__include-wrapper"},hl={class:"am-fcis__include-heading"},bl={class:"am-fcis__include-heading__text"},kl=["onClick"],$l={class:"am-fcis__include-hero"},wl={key:0,class:"am-fcis__include-cost"},Cl={key:0,class:"am-fcis__include-discount"},Sl={class:"am-fcis__include-price"},xl={class:"am-fcis__include-info"},Pl={key:0,class:"am-fcis__include-info__inner"},Dl=t("span",{class:"am-icon-folder"},null,-1),El={key:1,class:"am-fcis__include-info__inner"},Ll=t("span",{class:"am-icon-clock"},null,-1),Il={key:0},Tl={key:1},Bl={key:2},Fl={key:2,class:"am-fcis__include-info__inner"},zl=t("span",{class:"am-icon-user"},null,-1),Al=t("span",null,"1/1",-1),Rl=[zl,Al],Ml={key:3,class:"am-fcis__include-info__inner"},Ol=t("span",{class:"am-icon-locations"},null,-1),Nl={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Vl={key:1,ref:"ameliaContainer",class:"am-empty"},Ul=["src"],Wl={class:"am-empty__heading"},jl={class:"am-empty__subheading"},Hl={class:"am-empty__text"},ql={key:0},Jl={href:"https://wpamelia.com/services-and-categories/"},Gl={key:1},Ql={key:2,href:"https://wpamelia.com/employees/"},Xl={name:"CategoryService"},Yl=Object.assign(Xl,{setup(f){let y=x("licence"),{previousPage:d}=x("changingPageFunctions",{previousPage:()=>{}}),L=$(()=>n.getters["entities/getReady"]);const v=x("baseUrls");let l=k(),s=x("containerWidth");const c=x("settings");let h=x("amFonts");const m=x("labels"),N=x("localLanguage");let he=$(()=>c.general.usedLanguages.includes(N.value)),I=$(()=>{let V=We(He({},m));if(c.customizedData&&c.customizedData.cbf&&c.customizedData.cbf.categoryService.translations){let D=c.customizedData.cbf.categoryService.translations;Object.keys(D).forEach(C=>{D[C][N.value]&&he.value?V[C]=D[C][N.value]:D[C].default&&(V[C]=D[C].default)})}return V}),B=k(0),n=Ke(),F=x("amEntities"),g=x("customizedDataForm"),j=$(()=>g.value.categoryService.options),b=x("itemType"),pe=x("categorySelected"),$e=$(()=>F.value.categories.find(V=>V.id===pe.value)),w=$(()=>{let V=F.value.services.find(D=>D.id===n.getters["booking/getServiceId"]);return V||{}});function be(V,D){return Pe(V,D).length===1?Pe(V,D)[0].address?Pe(V,D)[0].address:Pe(V,D)[0].name:I.value.multiple_locations}let ae=k("description"),se=$(()=>{let V=[];return Object.keys(F.value.entitiesRelations).forEach(C=>{F.value.entitiesRelations[C][w.value.id]&&F.value.employees.find(T=>T.id===parseInt(C))&&V.push(F.value.employees.find(T=>T.id===parseInt(C)))}),V});function Z(V){let D=V.serviceList.find(C=>C.id===w.value.id).price;return D-w.value.price!==0?`${D-w.value.price>0?"+":"-"} ${Ue(D-w.value.price)}`:""}Ee(()=>{j.value.serviceDescription.visibility||(ae.value="employees"),w.value.description||(ae.value="employees")});let K=$(()=>{let V=w.value.gallery.length?JSON.parse(JSON.stringify(w.value.gallery)):[];return w.value.gallery.length===1?[]:(V.shift(),V.length>2&&V.splice(2,V.length-2),V)}),G=$(()=>{let V=[];return F.value.packages.forEach(D=>{D.bookable.filter(C=>C.service.id===w.value.id).length&&!V.filter(C=>C.id===D.id).length&&D.available&&D.status==="visible"&&V.push(D)}),V}),H=k(!1),re=$(()=>{let V=[...G.value];return H.value?V:V.slice(0,2)}),ke=$(()=>n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]));function xe(){b.value="",Ce(()=>{d()})}let p=k(!1),Q=k("760px");Y("bookingDialogWidth",Q);function le(){se.value.length===1&&n.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(F.value,w.value.id).length===1&&n.commit("booking/setLocationId",parseInt(Pe(F.value,w.value.id)[0].id)),n.commit("booking/setBookableType","appointment"),p.value=!0}x("restoreFormData").value&&le();function U(V){n.commit("booking/setPackageId",V.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",_t(0,V)),n.commit("booking/setMultipleAppointmentsIndex",0),se.value.length===1&&n.commit("booking/setEmployeeId",parseInt(se.value[0].id)),Pe(F.value,w.value.id).length===1&&n.commit("booking/setLocationId",parseInt(Pe(F.value,w.value.id)[0].id)),Ce(()=>{p.value=!0})}const ne=x("shortcodeData");let fe=k("");Y("stepName",fe);function je(){let V=n.getters["entities/getBookableFromBookableEntities"](n.getters["booking/getSelection"]),D=V.settings?JSON.parse(V.settings):c;"general"in D&&"redirectUrlAfterAppointment"in D.general&&D.general.redirectUrlAfterAppointment?window.location.href=D.general.redirectUrlAfterAppointment:c.general.redirectUrlAfterAppointment?window.location.href=c.general.redirectUrlAfterAppointment:window.location.reload()}function Oe(){if(fe.value&&fe.value==="CongratulationsStep")je();else{n.commit("booking/setEmployeeId",null),n.commit("booking/setLocationId",null);let V=$(()=>({category:ne.value.category,counter:ne.value.counter,employee:ne.value.employee,hasApiCall:ne.value.hasApiCall,location:ne.value.location,service:ne.value.service,show:ne.value.show,trigger:ne.value.trigger}));n.commit("entities/setPreselected",V.value)}Q.value="760px"}let q=k(!1);function M(V,D){let C="";return V>1?(D==="day"&&(C=I.value.expires_days),D==="week"&&(C=I.value.expires_weeks),D==="month"&&(C=I.value.expires_months)):(D==="day"&&(C=I.value.expires_day),D==="week"&&(C=I.value.expires_week),D==="month"&&(C=I.value.expires_month)),C}let R=$(()=>Object.keys(w.value).length===0||se.value.length===0),J=x("amColors"),Ae=$(()=>({"--am-c-fcis-success-op20":ee(J.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(J.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(J.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(J.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(J.value.colorBtnSec,.5)})),Ne=$(()=>({"--am-c-fcis-bgr":J.value.colorMainBgr,"--am-c-fcis-text":J.value.colorMainText,"--am-c-fcis-success":J.value.colorSuccess,"--am-c-fcis-primary":J.value.colorPrimary,"--am-c-scroll-op30":ee(J.value.colorPrimary,.3),"--am-c-scroll-op10":ee(J.value.colorPrimary,.1),"--am-font-family":h.fontFamily}));return(V,D)=>e(L)?(a(),i(te,{key:0},[e(R)?_("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:l,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:ve(e(Ae))},pt({heading:A(()=>[t("div",{class:z([[{"am-tablet":e(s)<=678},{"am-mobile":e(s)<450}],"am-fcis__header-top"])},[t("div",As,[t("span",Rs,o(e(w).name),1),e(j).serviceBadge.visibility?(a(),i("div",Ms,[Os,t("span",null,o(e(I).heading_service),1)])):_("",!0)]),t("div",Ns,[e(j).servicePrice.visibility?(a(),i("span",Vs,o(e(Ze)(e(F),e(w).id).min||e(Ze)(e(F),e(w).id).max?e(Ze)(e(F),e(w).id).price:e(I).free),1)):_("",!0),t("span",Us,[W(Le,{type:e(j).bookingBtn.buttonType,onClick:le},{default:A(()=>[Se(o(e(I).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(a(),i("div",Ws,[t("div",js,[e(j).serviceCategory.visibility?(a(),i("div",Hs,[qs,t("span",null,o(e($e).name),1)])):_("",!0),e(j).serviceDuration.visibility?(a(),i("div",Js,[Gs,t("span",null,o(e(Mt)(e(w).duration)),1)])):_("",!0),e(j).serviceCapacity.visibility&&!e(y).isLite?(a(),i("div",Qs,[Xs,t("span",null,o(e(Rt)(e(F),e(w).id)),1)])):_("",!0),e(Pe)(e(F),e(w).id).length&&e(j).serviceLocation.visibility?(a(),i("div",Ys,[Zs,t("span",null,o(be(e(F),e(w).id)),1)])):_("",!0)])])):_("",!0)]),content:A(()=>[e(w).gallery.length?(a(),i("div",Ks,[t("div",{class:z(["am-fcis__gallery-hero",[{w100:e(w).gallery.length===1},{"am-mobile w100":e(s)<678}]]),style:ve({backgroundImage:`url(${e(w).gallery[0].pictureFullPath})`})},null,6),e(K).length&&e(s)>677?(a(),i("div",el,[(a(!0),i(te,null,me(e(K),(C,T)=>(a(),i("div",{key:T,class:z(["am-fcis__gallery-thumb",{"am-one-thumb":e(K).length===1}]),style:ve({backgroundImage:`url(${C.pictureFullPath})`})},null,6))),128))])):_("",!0),W(Le,{"custom-class":`am-fcis__gallery-btn${e(s)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:D[0]||(D[0]=()=>de(q)?q.value=!0:q=!0)},{default:A(()=>[Se(o(e(I).view_all_photos),1)]),_:1},8,["custom-class"])])):_("",!0),W(it,{modelValue:e(q),"onUpdate:modelValue":D[4]||(D[4]=C=>de(q)?q.value=C:q=C),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Ne))},[t("div",tl,[t("div",al,[t("span",{class:"am-icon-arrow-left",onClick:D[1]||(D[1]=()=>de(B)?B.value=e(B)<=0?e(w).gallery.length-1:e(B)-1:B=e(B)<=0?e(w).gallery.length-1:e(B)-1)}),t("span",{class:"am-icon-arrow-right",onClick:D[2]||(D[2]=()=>de(B)?B.value=e(w).gallery.length-1===e(B)?0:e(B)+1:B=e(w).gallery.length-1===e(B)?0:e(B)+1)})]),(a(!0),i(te,null,me(e(w).gallery,(C,T)=>(a(),i("div",{key:T,class:"am-gd__display",style:ve({display:T===e(B)?"flex":"none"}),onClick:D[3]||(D[3]=()=>de(B)?B.value=e(w).gallery.length-1===e(B)?0:e(B)+1:B=e(w).gallery.length-1===e(B)?0:e(B)+1)},[t("img",{src:C.pictureFullPath,alt:T},null,8,il)],4))),128))]),t("div",sl,o(`${e(B)+1}/${e(w).gallery.length}`),1),t("div",ll,[(a(!0),i(te,null,me(e(w).gallery,(C,T)=>(a(),i("div",{key:T,class:z(["am-gd__thumb",{"am-active":T===e(B)}]),style:ve({backgroundImage:`url(${C.pictureFullPath})`}),onClick:()=>de(B)?B.value=T:B=T},null,14,nl))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(w).description||e(j).serviceEmployees.visibility?(a(),i("div",ol,[t("div",cl,[e(w).description&&e(j).serviceDescription.visibility?(a(),i("div",{key:0,class:z(["am-fcis__info-tab",{"am-active":e(ae)==="description"}]),onClick:D[5]||(D[5]=()=>de(ae)?ae.value="description":ae="description")},o(e(I).about_service),3)):_("",!0),e(j).serviceEmployees.visibility&&!e(y).isLite?(a(),i("div",{key:1,class:z([{"am-active":e(ae)==="employees"},"am-fcis__info-tab"]),onClick:D[6]||(D[6]=()=>de(ae)?ae.value="employees":ae="employees")},o(e(I).tab_employees),3)):_("",!0)]),t("div",rl,[e(w).description&&e(j).serviceDescription.visibility?dt((a(),i("div",ul,[t("div",{class:z(["am-fcis__info-service__desc",{"ql-description":e(w).description.includes("<!-- Content -->")}]),innerHTML:e(w).description},null,10,dl)],512)),[[mt,e(ae)==="description"]]):_("",!0),e(j).serviceEmployees.visibility?dt((a(),i("div",ml,[W(ct,null,{default:A(()=>[(a(!0),i(te,null,me(e(se),C=>(a(),ye(rt,{key:C.id,side:""},{heading:A(()=>[t("div",{class:z([{"am-mobile":e(s)<451},"am-fcis__info-employee"])},[t("div",pl,[W(Ye,{"item-class":"am-fcis__info-employee__img","item-data":C,"trim-string":3},null,8,["item-data"]),t("div",_l,[t("div",vl,o(C.firstName)+" "+o(C.lastName),1),Z(C)&&e(j).serviceEmployeePrice.visibility?(a(),i("div",fl,o(Z(C)),1)):_("",!0)])])],2)]),default:A(()=>[C.description?(a(),i("div",{key:0,class:z(["am-fcis__info-employee__description",{"ql-description":C.description.includes("<!-- Content -->")}]),innerHTML:C.description},null,10,gl)):_("",!0)]),_:2},1024))),128))]),_:1})],512)),[[mt,e(ae)==="employees"]]):_("",!0)])])):_("",!0),e(G).length&&e(ne).show!=="services"&&e(j).servicePackages.visibility?(a(),i("div",yl,[t("div",hl,[t("span",bl,o(e(I).service_available_in_package),1),e(G).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:D[7]||(D[7]=()=>de(H)?H.value=!e(H):H=!e(H))},[e(H)?(a(),i(te,{key:1},[Se(o(e(I).less_packages),1)],64)):(a(),i(te,{key:0},[Se(o(e(I).more_packages),1)],64))])):_("",!0)]),(a(!0),i(te,null,me(e(re),C=>(a(),i("div",{key:C.id,class:"am-fcis__include",onClick:T=>U(C)},[t("div",$l,[e(s)>450?(a(),ye(Ye,{key:0,"item-class":"am-fcis__include-img","item-data":C,"trim-string":3},null,8,["item-data"])):_("",!0),t("div",{class:z([{"am-mobile":e(s)<451},"am-fcis__include-text"])},[t("div",{class:z(["am-fcis__include-header",{"am-mobile":e(s)<600}])},[t("div",{class:z(["am-fcis__include-name",{"am-mobile":e(s)<600}])},o(C.name),3),e(j).packagePrice.visibility?(a(),i("div",wl,[C.discount?(a(),i("span",Cl,o(`${e(I).save} ${C.discount}%`),1)):_("",!0),t("span",Sl,o(C.price?e(Ue)(C.calculatedPrice?C.price:C.price-C.price/100*C.discount):e(I).free),1)])):_("",!0)],2),t("div",xl,[e(j).packageCategory.visibility?(a(),i("div",Pl,[Dl,t("span",null,o(e($e).name),1)])):_("",!0),e(j).packageDuration.visibility?(a(),i("div",El,[Ll,C.endDate?(a(),i("span",Il,o(`${e(I).expires_at} ${C.endDate.split(" ")[0]}`),1)):C.durationCount?(a(),i("span",Tl,o(`${e(I).expires_after} ${C.durationCount} ${M(C.durationCount,C.durationType)}`),1)):(a(),i("span",Bl,o(e(I).without_expiration),1))])):_("",!0),e(j).packageCapacity.visibility?(a(),i("div",Fl,Rl)):_("",!0),e(j).packageLocation.visibility&&e(ke).length?(a(),i("div",Ml,[Ol,t("span",null,o(e(ke).length===1?e(ke)[0].address?e(ke)[0].address:e(ke)[0].name:e(I).multiple_locations),1)])):_("",!0),e(j).packageServices.visibility?(a(),i("div",Nl,[t("span",null,o(`${e(I).in_package}:`),1),(a(!0),i(te,null,me(C.bookable,T=>(a(),i("span",{key:T.id},o(T.service.name),1))),128))])):_("",!0)])],2)])],8,kl))),128))])):_("",!0),W(it,{modelValue:e(p),"onUpdate:modelValue":D[8]||(D[8]=C=>de(p)?p.value=C:p=C),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Q),onClosed:Oe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(ne).service?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(I).back_btn,"btn-type":e(j).backBtn.buttonType,onClick:xe},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(R)?(a(),i("div",Vl,[t("img",{src:e(v).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ul),t("div",Wl,o(e(I).oops),1),t("div",jl,o(e(ne).show!=="packages"?e(I).no_services_employees:e(I).no_package_services),1),t("div",Hl,[e(ne).show!=="packages"?(a(),i("span",ql,o(e(I).add_services_employees)+"\xA0 ",1)):_("",!0),t("a",Jl,o(e(I).add_services_url)+"\xA0 ",1),e(ne).show!=="packages"?(a(),i("span",Gl,o(e(I).and)+"\xA0 ",1)):_("",!0),e(ne).show!=="packages"?(a(),i("a",Ql,o(e(I).add_employees_url),1)):_("",!0)])],512)):_("",!0)],64)):_("",!0)}});const Zl={class:"am-fcip__header-text"},Kl={class:"am-fcip__header-name"},en={key:0,class:"am-fcip__badge am-package"},tn=t("span",{class:"am-icon-shipment"},null,-1),an={class:"am-fcip__header-action"},sn={key:0,class:"am-fcip__header-discount"},ln={key:1,class:"am-fcip__header-price"},nn={class:"am-fcip__header-btn"},on={key:0,class:"am-fcip__header-bottom"},cn={class:"am-fcip__mini-info"},rn={key:0,class:"am-fcip__mini-info__inner"},un=t("span",{class:"am-icon-folder"},null,-1),dn={key:1,class:"am-fcip__mini-info__inner"},mn=t("span",{class:"am-icon-clock"},null,-1),pn={key:0},_n={key:1},vn={key:2},fn={key:2,class:"am-fcip__mini-info__inner"},gn=t("span",{class:"am-icon-user"},null,-1),yn=t("span",null,"1/1",-1),hn=[gn,yn],bn={key:3,class:"am-fcip__mini-info__inner"},kn=t("span",{class:"am-icon-locations"},null,-1),$n={key:0,class:"am-fcip__gallery"},wn={key:0,class:"am-fcip__gallery-thumb__wrapper"},Cn=t("span",{class:"am-icon-gallery"},null,-1),Sn={class:"am-gd__display-wrapper"},xn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Pn=["src","alt"],Dn={class:"am-gd__selection"},En={class:"am-gd__thumb-wrapper"},Ln=["onClick"],In={key:1,class:"am-fcip__info"},Tn={class:"am-fcip__info-tab__wrapper"},Bn={class:"am-fcip__info-content__wrapper"},Fn={key:0,class:"am-fcip__info-content"},zn=["innerHTML"],An={key:1,class:"am-fcip__info-content"},Rn={class:"am-fcip__info-employee"},Mn={class:"am-fcip__info-employee__hero"},On={class:"am-fcip__info-employee__name"},Nn=["innerHTML"],Vn={key:2,class:"am-fcip__include-wrapper"},Un={class:"am-fcip__include-heading"},Wn={class:"am-fcip__include-heading__text"},jn={class:"am-fcip__include-service"},Hn={class:"am-fcip__include-service__info"},qn={key:0},Jn=["innerHTML"],Gn={class:"am-fcip__include-footer"},Qn={class:"am-fcip__include-footer__text"},Xn={key:1,ref:"ameliaContainer",class:"am-empty"},Yn=["src"],Zn={class:"am-empty__heading"},Kn={class:"am-empty__subheading"},eo={class:"am-empty__text"},to={href:"https://wpamelia.com/services-and-categories/"},ao={name:"CategoryPackage"},io=Object.assign(ao,{setup(f){let{previousPage:y}=x("changingPageFunctions",{previousPage:()=>{}}),d=k(),L=x("containerWidth");const v=x("settings"),l=x("baseUrls");let s=Ke();const c=x("shortcodeData");let h=x("amEntities"),m=x("customizedDataForm"),N=$(()=>m.value.categoryPackage.options),he=x("itemType"),I=x("categorySelected"),B=$(()=>h.value.categories.find(q=>q.id===I.value)),n=$(()=>h.value.packages.find(q=>q.id===s.getters["booking/getPackageId"])),F=k(0),g=k("description"),j=$(()=>Ot(h.value,n.value)),b=$(()=>Qe(h.value,n.value)),pe=k(c.value.employee?h.value.unfilteredEmployees.filter(q=>q.id===parseInt(c.value.employee)):h.value.unfilteredEmployees);function $e(q){let M=[];return q.providers.length?q.providers.forEach(R=>{pe.value.find(J=>J.id===parseInt(R.id))&&M.push(pe.value.find(J=>J.id===parseInt(R.id)))}):M=pe.value.filter(R=>R.serviceList.find(J=>J.id===q.service.id)),M}Ee(()=>{N.value.packageDescription.visibility||(g.value="employees"),n.value.description||(g.value="employees")});let w=k(!1);St(()=>{w.value=s.getters["entities/getEmployees"].length===0||j.value.length===0});let be=k(!1),ae=$(()=>{let q=n.value.gallery.length?JSON.parse(JSON.stringify(n.value.gallery)):[];return n.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)});function se(){he.value="",Ce(()=>{y()})}let Z=k(!1),K=k("760px");Y("bookingDialogWidth",K);function G(){s.commit("booking/setMultipleAppointments",_t(0,n.value)),s.commit("booking/setMultipleAppointmentsIndex",0),s.commit("booking/setBookableType","package"),Ce(()=>{Z.value=!0})}x("restoreFormData").value&&G();let re=k("");Y("stepName",re);function ke(){let q=s.getters["entities/getBookableFromBookableEntities"](s.getters["booking/getSelection"]),M=q.settings?JSON.parse(q.settings):v;"general"in M&&"redirectUrlAfterAppointment"in M.general&&M.general.redirectUrlAfterAppointment?window.location.href=M.general.redirectUrlAfterAppointment:v.general.redirectUrlAfterAppointment?window.location.href=v.general.redirectUrlAfterAppointment:window.location.reload()}function xe(){if(re.value&&re.value==="CongratulationsStep")ke();else{let q=$(()=>({category:c.value.category,counter:c.value.counter,employee:c.value.employee,hasApiCall:c.value.hasApiCall,location:c.value.location,service:c.value.service,show:c.value.show,trigger:c.value.trigger}));s.commit("entities/setPreselected",q.value)}K.value="760px"}let p=x("amFonts");const Q=x("labels"),le=x("localLanguage");let Te=$(()=>v.general.usedLanguages.includes(le.value)),U=$(()=>{let q=We(He({},Q));if(v.customizedData&&v.customizedData.cbf&&v.customizedData.cbf.categoryPackage.translations){let M=v.customizedData.cbf.categoryPackage.translations;Object.keys(M).forEach(R=>{M[R][le.value]&&Te.value?q[R]=M[R][le.value]:M[R].default&&(q[R]=M[R].default)})}return q});function ne(q,M){let R="";return q>1?(M==="day"&&(R=U.value.expires_days),M==="week"&&(R=U.value.expires_weeks),M==="month"&&(R=U.value.expires_months)):(M==="day"&&(R=U.value.expires_day),M==="week"&&(R=U.value.expires_week),M==="month"&&(R=U.value.expires_month)),R}let fe=x("amColors"),je=$(()=>({"--am-c-fcip-success-op20":ee(fe.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(fe.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(fe.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(fe.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(fe.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(fe.value.colorBtnSec,.5)})),Oe=$(()=>({"--am-c-fcip-bgr":fe.value.colorMainBgr,"--am-c-fcip-text":fe.value.colorMainText,"--am-c-fcip-success":fe.value.colorSuccess,"--am-c-fcip-primary":fe.value.colorPrimary,"--am-c-scroll-op30":ee(fe.value.colorPrimary,.3),"--am-c-scroll-op10":ee(fe.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(q,M)=>(a(),i(te,null,[e(w)?_("",!0):(a(),ye(Pt,{key:0,ref_key:"contentRef",ref:d,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:ve(e(je))},pt({heading:A(()=>[t("div",{class:z([[{"am-tablet":e(L)<=678},{"am-mobile":e(L)<450}],"am-fcip__header-top"])},[t("div",Zl,[t("span",Kl,[t("span",null,o(e(n).name),1)]),e(N).packageBadge.visibility?(a(),i("div",en,[tn,t("span",null,o(e(U).package),1)])):_("",!0)]),t("div",an,[e(n).discount&&e(N).packagePrice.visibility?(a(),i("span",sn,o(`${e(U).save} ${e(n).discount}%`),1)):_("",!0),e(N).packagePrice.visibility?(a(),i("span",ln,o(e(n).price?e(Ue)(e(n).calculatedPrice?e(n).price:e(n).price-e(n).price/100*e(n).discount):e(U).free),1)):_("",!0),t("span",nn,[W(Le,{type:e(N).bookingBtn.buttonType,onClick:G},{default:A(()=>[Se(o(e(U).book_now),1)]),_:1},8,["type"])])])],2),e(N).packageCategory.visibility&&!e(c).package||e(N).packageDuration.visibility||e(N).packageCapacity.visibility||e(N).packageLocation.visibility&&e(b).length?(a(),i("div",on,[t("div",cn,[!e(c).package&&e(N).packageBadge.visibility?(a(),i("div",rn,[un,t("span",null,o(e(B).name),1)])):_("",!0),e(N).packageDuration.visibility?(a(),i("div",dn,[mn,e(n).endDate?(a(),i("span",pn,o(`${e(U).expires_at} ${e(n).endDate.split(" ")[0]}`),1)):e(n).durationCount?(a(),i("span",_n,o(`${e(U).expires_after} ${e(n).durationCount} ${ne(e(n).durationCount,e(n).durationType)}`),1)):(a(),i("span",vn,o(e(U).without_expiration),1))])):_("",!0),e(N).packageCapacity.visibility?(a(),i("div",fn,hn)):_("",!0),e(b).length&&e(N).packageLocation.visibility?(a(),i("div",bn,[kn,t("span",null,o(e(b).length===1?e(b)[0].address?e(b)[0].address:e(b)[0].name:e(U).multiple_locations),1)])):_("",!0)])])):_("",!0)]),content:A(()=>[e(n).gallery.length?(a(),i("div",$n,[t("div",{class:z(["am-fcip__gallery-hero",[{w100:e(n).gallery.length===1},{"am-mobile w100":e(L)<678}]]),style:ve({backgroundImage:`url(${e(n).gallery[0].pictureFullPath})`})},null,6),e(ae).length&&e(L)>677?(a(),i("div",wn,[(a(!0),i(te,null,me(e(ae),(R,J)=>(a(),i("div",{key:J,class:z(["am-fcip__gallery-thumb",{"am-one-thumb":e(ae).length===1}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`})},null,6))),128))])):_("",!0),W(Le,{"custom-class":`am-fcip__gallery-btn${e(L)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:M[0]||(M[0]=()=>de(be)?be.value=!0:be=!0)},{default:A(()=>[Cn,t("span",null,o(e(U).view_all_photos),1)]),_:1},8,["custom-class"])])):_("",!0),W(it,{modelValue:e(be),"onUpdate:modelValue":M[4]||(M[4]=R=>de(be)?be.value=R:be=R),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ve(e(Oe))},[t("div",Sn,[t("div",xn,[t("span",{class:"am-icon-arrow-left",onClick:M[1]||(M[1]=()=>de(F)?F.value=e(F)<=0?e(n).gallery.length-1:e(F)-1:F=e(F)<=0?e(n).gallery.length-1:e(F)-1)}),t("span",{class:"am-icon-arrow-right",onClick:M[2]||(M[2]=()=>de(F)?F.value=e(n).gallery.length-1===e(F)?0:e(F)+1:F=e(n).gallery.length-1===e(F)?0:e(F)+1)})]),(a(!0),i(te,null,me(e(n).gallery,(R,J)=>(a(),i("div",{key:J,class:"am-gd__display",style:ve({display:J===e(F)?"flex":"none"}),onClick:M[3]||(M[3]=()=>de(F)?F.value=e(n).gallery.length-1===e(F)?0:e(F)+1:F=e(n).gallery.length-1===e(F)?0:e(F)+1)},[t("img",{src:R.pictureFullPath,alt:J},null,8,Pn)],4))),128))]),t("div",Dn,o(`${e(F)+1}/${e(n).gallery.length}`),1),t("div",En,[(a(!0),i(te,null,me(e(n).gallery,(R,J)=>(a(),i("div",{key:J,class:z(["am-gd__thumb",{"am-active":J===e(F)}]),style:ve({backgroundImage:`url(${R.pictureFullPath})`}),onClick:()=>de(F)?F.value=J:F=J},null,14,Ln))),128))])],4)]),_:1},8,["modelValue"]),e(N).packageDescription.visibility&&e(n).description||e(N).packageEmployees.visibility?(a(),i("div",In,[t("div",Tn,[e(n).description&&e(N).packageDescription.visibility?(a(),i("div",{key:0,class:z(["am-fcip__info-tab",{"am-active":e(g)==="description"}]),onClick:M[5]||(M[5]=()=>de(g)?g.value="description":g="description")},o(e(U).about_package),3)):_("",!0),e(N).packageEmployees.visibility?(a(),i("div",{key:1,class:z([{"am-active":e(g)==="employees"},"am-fcip__info-tab"]),onClick:M[6]||(M[6]=()=>de(g)?g.value="employees":g="employees")},o(e(U).tab_employees),3)):_("",!0)]),t("div",Bn,[e(n).description&&e(N).packageDescription.visibility?dt((a(),i("div",Fn,[t("div",{class:z(["am-fcip__info-service__desc",{"ql-description":e(n).description.includes("<!-- Content -->")}]),innerHTML:e(n).description},null,10,zn)],512)),[[mt,e(g)==="description"]]):_("",!0),e(N).packageEmployees.visibility?dt((a(),i("div",An,[W(ct,null,{default:A(()=>[(a(!0),i(te,null,me(e(j),R=>(a(),ye(rt,{key:R.id,side:""},{heading:A(()=>[t("div",Rn,[t("div",Mn,[W(Ye,{"item-class":"am-fcip__info-employee__img","item-data":R,"trim-string":3},null,8,["item-data"]),t("div",On,o(R.firstName)+" "+o(R.lastName),1)])])]),default:A(()=>[R.description?(a(),i("div",{key:0,class:z(["am-fcip__info-employee__description",{"ql-description":R.description.includes("<!-- Content -->")}]),innerHTML:R.description},null,10,Nn)):_("",!0)]),_:2},1024))),128))]),_:1})],512)),[[mt,e(g)==="employees"]]):_("",!0)])])):_("",!0),e(N).packageServices.visibility?(a(),i("div",Vn,[t("div",Un,[t("span",Wn,o(`${e(U).package_includes}:`),1)]),W(ct,null,{default:A(()=>[(a(!0),i(te,null,me(e(n).bookable,R=>(a(),ye(rt,{key:R.id,side:!0},{heading:A(()=>[t("div",jn,[W(Ye,{"item-class":"am-fcip__include-service__img","item-data":R.service},null,8,["item-data"]),Se(" "+o(R.service.name+(e(n).sharedCapacity?"":" x"+R.quantity)),1)])]),default:A(()=>[t("div",Hn,[t("span",null,o(`${e(U).tab_employees}:`),1),(a(!0),i(te,null,me($e(R).slice(0,6),J=>(a(),ye(Ye,{key:J.id,"item-class":"am-fcip__include-service__info-name","item-data":J,"trim-string":3},null,8,["item-data"]))),128)),$e(R).length>6?(a(),i("span",qn," + "+o($e(R).length-6),1)):_("",!0),R.service.description?(a(),i("div",{key:1,class:z(["am-fcip__include-service__info-description",{"ql-description":R.service.description.includes("<!-- Content -->")}]),innerHTML:R.service.description},null,10,Jn)):_("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Gn,[t("span",Qn,o(e(U).package_book_service),1)])])):_("",!0),W(it,{modelValue:e(Z),"onUpdate:modelValue":M[7]||(M[7]=R=>de(Z)?Z.value=R:Z=R),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(K),onClosed:xe},{default:A(()=>[W(Nt)]),_:1},8,["modelValue","width"])]),_:2},[e(c).package?void 0:{name:"header",fn:A(()=>[W(xt,{"btn-string":e(U).back_btn,"btn-type":e(N).backBtn.buttonType,onClick:se},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(w)?(a(),i("div",Xn,[t("img",{src:e(l).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Yn),t("div",Zn,o(e(U).oops),1),t("div",Kn,o(e(U).no_package_services),1),t("div",eo,[t("a",to,o(e(U).add_services_url)+"\xA0 ",1)])],512)):_("",!0)],64))}});const so={name:"CatalogSkeleton"},lo=Object.assign(so,{setup(f){let y=k(null),d=k(0);window.addEventListener("resize",L);function L(){y.value&&(d.value=y.value.offsetWidth)}Ee(()=>{y.value&&(d.value=y.value.offsetWidth)});let v=$(()=>d.value<=500?"am-w100":d.value<=600?"am-w50":d.value<=768?"am-w33":"");return(l,s)=>{const c=ka,h=ba;return a(),i("div",{ref_key:"amSkeletonContainer",ref:y,class:"am-skeleton-catalog__wrapper"},[W(h,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(te,null,me(new Array(8),m=>(a(),i("div",{key:m,class:z(["am-skeleton-catalog__item",e(v)])},[W(c,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const no=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),oo=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),co=["href"],ro={name:"CatalogFormWrapper"},uo=Object.assign(ro,{setup(f){let y=x("licence"),d=k(null);const L=x("baseUrls");let v=k(0);Y("containerWidth",v),window.addEventListener("resize",l);function l(){d.value&&(v.value=d.value.offsetWidth)}Ee(()=>{document.getElementById("amelia-v2-booking-"+h.value.counter).classList.add("amelia-v2-booking-"+h.value.counter+"-loaded"),at(m,{},"ViewContent","appointment",null,null),l()});let s=k(!1);const c=x("settings"),h=x("shortcodeData"),m=Ke();m.commit("entities/setPreselected",h.value),m.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:y,loadEntities:h.value.trigger||window.ameliaShortcodeData.filter(p=>!p.hasApiCall).length===window.ameliaShortcodeData.length?!0:h.value.hasApiCall});const N=we(ai),he=we(rs),I=we(Yl),B=we(io);let n=k([N,he]),F=k(0),g=k(null);Y("categorySelected",g);let j=k([]);Y("availableCategories",j);let b=k("");Y("itemType",b),ut(b,()=>{b.value==="appointment"&&n.value.push(I),b.value==="package"&&n.value.push(B),b.value===""&&n.value.forEach((p,Q)=>{p.name==="CategoryService"&&pe(n.value,Q),p.name==="CategoryPackage"&&pe(n.value,Q)})});function pe(p,Q){p.splice(Q,1)}function $e(){F.value=F.value+1,d.value.scrollIntoView({behavior:"smooth",block:"start"})}function w(){F.value=F.value-1}Y("changingPageFunctions",{nextPage:$e,previousPage:w});let be=$(()=>m.getters["entities/getReady"]),ae=$(()=>m.state.entities);Y("amEntities",ae);function se(){let p=m.getters["entities/getPreselected"];if(h.value.categories_hidden&&!h.value.category&&(j.value=JSON.parse(JSON.stringify(za(ae.value))),g.value=parseInt(j.value.length?j.value[0].id:null),m.commit("booking/setCategoryId",parseInt(g.value)),Ce(()=>{let Q=n.value.findIndex(le=>le.name==="CategoriesList");n.value.splice(Q,1)})),h.value.category&&(m.commit("booking/setCategoryId",parseInt(p.category)),g.value=parseInt(p.category),j.value=JSON.parse(JSON.stringify(ae.value.categories.filter(Q=>Q.id===parseInt(p.category)&&Q.status==="visible"&&Q.serviceList.length&&!!st(Q,ae.value).length))),Ce(()=>{let Q=n.value.findIndex(le=>le.name==="CategoriesList");n.value.splice(Q,1)})),h.value.service){m.commit("booking/setServiceId",parseInt(p.service));let Q=m.getters["entities/getService"](parseInt(p.service));g.value=parseInt(p.category),m.commit("booking/setCategoryId",Q?parseInt(Q.categoryId):null),Ce(()=>{n.value=[],n.value.push(I)})}h.value.employee&&m.commit("booking/setEmployeeId",parseInt(p.employee)),h.value.location&&m.commit("booking/setLocationId",parseInt(p.location)),h.value.package&&(m.commit("booking/setPackageId",parseInt(p.package)),n.value=[],n.value.push(B)),h.value.show==="packages"?m.commit("booking/setBookableType","package"):m.commit("booking/setBookableType","appointment")}let Z=$(()=>be.value?$a(m,h.value):null);Y("restoreFormData",Z),ut(be,p=>{p&&(se(),s.value=m.getters["entities/getServices"].length===0||m.getters["entities/getEmployees"].length===0,Z.value&&(b.value=m.state.booking.appointment.type,Ce(()=>{F.value=n.value.length-1,g.value=m.state.booking.appointment.categoryId})))});let K=$(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf:Xe.cbf);Y("customizedDataForm",K);const G=k(c.customizedData?c.customizedData.fonts:Xe.fonts);Y("amFonts",G);let H=$(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf.colors:Xe.cbf.colors);Y("amColors",H);let re=$(()=>({"--am-c-primary":H.value.colorPrimary,"--am-c-success":H.value.colorSuccess,"--am-c-error":H.value.colorError,"--am-c-warning":H.value.colorWarning,"--am-c-main-bgr":H.value.colorMainBgr,"--am-c-main-heading-text":H.value.colorMainHeadingText,"--am-c-main-text":H.value.colorMainText,"--am-c-sb-bgr":H.value.colorSbBgr,"--am-c-sb-text":H.value.colorSbText,"--am-c-inp-bgr":H.value.colorInpBgr,"--am-c-inp-border":H.value.colorInpBorder,"--am-c-inp-text":H.value.colorInpText,"--am-c-inp-placeholder":H.value.colorInpPlaceHolder,"--am-c-drop-bgr":H.value.colorDropBgr,"--am-c-drop-text":H.value.colorDropText,"--am-c-card-bgr":H.value.colorCardBgr,"--am-c-card-text":H.value.colorCardText,"--am-c-card-border":H.value.colorCardBorder,"--am-c-btn-prim":H.value.colorBtnPrim,"--am-c-btn-prim-text":H.value.colorBtnPrimText,"--am-c-btn-sec":H.value.colorBtnSec,"--am-c-btn-sec-text":H.value.colorBtnSecText,"--am-c-skeleton-op20":ee(H.value.colorMainText,.2),"--am-c-skeleton-op60":ee(H.value.colorMainText,.6),"--am-font-family":G.value.fontFamily}));function ke(){let p=document.head||document.getElementsByTagName("head")[0];p.querySelector("#amCustomFont")&&p.querySelector("#amCustomFont").remove();let Q=`@font-face {font-family: '${G.value.fontFamily}'; src: url(${G.value.fontUrl});}`,le=document.createElement("style");p.appendChild(le),le.setAttribute("type","text/css"),le.setAttribute("id","amCustomFont"),le.appendChild(document.createTextNode(Q))}G.value.customFontSelected&&ke();let xe=$(()=>({colorInputBorderRadius:"6px"}));return Y("amDesignProperties",xe),(p,Q)=>(a(),i(te,null,[G.value.customFontSelected?_("",!0):(a(),i(te,{key:0},[no,oo,t("link",{rel:"stylesheet",type:"text/css",href:`${e(L).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,co)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:d,class:"am-fc__wrapper",style:ve(e(re))},[e(be)&&e(n).length?(a(),ye(At(e(n)[e(F)]),{key:0})):(a(),ye(lo,{key:1}))],4)],64))}});var _o=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"}));export{_o as C,Ct as _,Ta as a,xt as b,Ye as c,Pt as d};
